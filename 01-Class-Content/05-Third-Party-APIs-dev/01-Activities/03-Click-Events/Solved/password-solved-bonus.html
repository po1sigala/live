<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>jQuery Password Generator</title>

    <!-- Added link to the jQuery library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  <body>
    <div id="empty-div"></div>

    <!-- Here we're adding a bit of CSS -->
    <style>
      :root {
        --primary-color: rgba(42, 196, 230, 0.705);
        --secondary-color: grey;
        --light-primary:rgba(118, 216, 238, 0.995);
        --dark-primary: rgb(27, 61, 61);
        --font-color: #14c1e7;
        --light-font: white;
        --bg-color: black;
      }

      body {
        background-color: var(--bg-color);
        color: var(--font-color);
        margin: 2em 5em;
        font-size: 25px;
        font-weight: bold;
        display: block;
      }

      .fancy {
        font-size: 30px;
        padding: 10px;
        color: var(--light-font);
        margin: 3rem;
        border-radius: 0.5rem;
        background-color: var(--primary-color);
        
      }

      button:hover {
        background-color: var(--light-primary);
        font-weight: 500;
        color: black;
      }

      button:active {
        background-color: var(--dark-primary);
        color: var(--light-font);
      }
    </style>

    <script type="text/javascript">
      function getPasswordCharacter() {
        return String.fromCharCode(Math.floor(Math.random() * 77) + 34);
      }

      function passwordGenerator(num) {
        var password = "";
        for (var i = 0; i < num; i++) {
          password = password + getPasswordCharacter();
        }
        return password;
      }

      $(document).ready(function () {
        // Step 1: Create/select DOM elements
        // Select the empty div and add the title
        var emptyDiv = $("#empty-div");
        var buttonEl = $("<button>");
        var inputEl = $("<input>");
        var labelEl = $("<label>");

        // ****************************************************************
        //  STEP 1: CREATE A NEW DOM ELEMENT FOR THE PASSWORD USING JQUERY
        // ****************************************************************
        var passwordDiv = $("<div>");

        // Hint: jQuery alternative to: var passwordDiv = document.createElement("div");

        // Step 2: Add text and style to the DOM element
        // Add text to the button
        buttonEl.text("Generate Password");

        // Add a title to the page
        emptyDiv.html("<h1>Password Generator</h1>");

        // Apply the ".fancy" class to the button using the jQuery ".attr" method.
        buttonEl.attr("class", "fancy");

        // Step 3: Append the DOM element to the page
        // Append the button to the page  
        // jQuery alternative to: document.querySelector("#empty-div").appendChild(buttonEl);
        emptyDiv.append(buttonEl);
        labelEl.text("Password Length: ");

        // ****************************************************************  
        //           STEP 3: APPEND THE PASSWORD DIV TO THE PAGE
        // ****************************************************************
        // Nest Input Element in Label element using ".append"
        // Append 
        emptyDiv.append(passwordDiv);
        labelEl.append(inputEl);
        emptyDiv.append(labelEl);

        // ****************************************************************  
        //           Step 4: CREATE THE EVENT LISTENER  
        // ****************************************************************
        // Validation allows non-number user inputs to generate a password of length 10
        buttonEl.click(function () {
          var userInput = inputEl.val();
          if(userInput % 1 === 0 && userInput) {
            passwordDiv.text(passwordGenerator(userInput));
          }
          else {
            passwordDiv.text(passwordGenerator(10));
          }
        });

        // Hint: Use the jQuery method, ".click", to create an event listener for the button
        // Hint: Use the jQuery method, ".text", to modify the text content of the password DOM element
        
      });
    </script>
  </body>
</html>
