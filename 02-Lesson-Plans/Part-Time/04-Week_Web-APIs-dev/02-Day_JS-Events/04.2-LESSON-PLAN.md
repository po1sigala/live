# 4.2 Lesson Plan - Events

## Overview

In today's class, students will learn to add event listeners to a DOM element, cancel default events, and stop event propogation. Students will also use data attributes to store information on HTML elements.

## Instructor Notes

* In this lesson, students will complete activities `11-Ins_Click-Event` through `20-Data-Attributes`.

* Today's class is focused on providing students with additional exposure to the DOM, this time focusing on events. The primary focus of today should be to ensure that students feel comfortable setting up event listeners and using their callbacks to manipulate the DOM.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

* By the end of class students will be able to:

  * Handle click events using `.addEventListener()`

  * Prevent default behavior with `event.preventDefault()`

  * Stop the propagation of events using `event.stopPropagation()`

  * Work with keyboard events `keyup` and `keydown`

  * Utilize data attributes

## Time Tracker

| Start  | #   | Activity Name                                | Duration |
|---     |---  |---                                           |---       |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity               | 0:10     |
| 6:40PM | 2   | Instructor Demo: Event Listener              | 0:05     |
| 6:45PM | 3   | Student Do: Event Listener                   | 0:15     |
| 7:00PM | 4   | Instructor Review: Event Listener            | 0:10     |
| 7:10PM | 5   | Instructor Demo: Preventing Default          | 0:05     |
| 7:15PM | 6   | Student Do: Preventing Default               | 0:15     |
| 7:30PM | 7   | Instructor Review: Preventing Default        | 0:10     |
| 7:40PM | 8   | Instructor Demo: Keyboard Events             | 0:05     |
| 7:45PM | 9   | Student Do: Keyboard Events                  | 0:15     |
| 8:00PM | 10  | BREAK                                        | 0:15     |
| 8:15PM | 11  | Instructor Review: Keyboard Events           | 0:10     |
| 8:25PM | 12  | Instructor Demo:  Event Bubbling             | 0:05     |
| 8:30PM | 13  | Student Do: Event Bubbling                   | 0:15     |
| 8:45PM | 14  | Instructor Review: Event Bubbling            | 0:10     |
| 8:55PM | 15  | Instructor Demo: Data Attributes             | 0:05     |
| 9:00PM | 16  | Student Do: Data Attributes                  | 0:15     |
| 9:15PM | 17  | Instructor Review: Data Attributes           | 0:15     |
| 9:30PM | 18  | END                                          | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Congratulate the class on how much they've learned up to this point and stress that while DOM manipulation may seem tricky at first, it is an essential skill used by web developers to create dynamic, interactive web applications.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are some ways we have already learned to manipulate the DOM using JavaScript?

  * 🙋 We have learned to create and append elements to the document, how to use `setAttribute()` to add styles to specific elements, and implement timers using `setInterval()` and `clearInterval()`.

* Explain that in today's class we are going to build on our DOM skills by learning how to use JavaScript to react to events.

* Open the [Event Target Example](https://mdn.github.io/learning-area/javascript/building-blocks/events/useful-eventtarget.html) in your browser and explain the following:

  * The MDN Web Docs team built this demo to showcase how an event -- in this case a mouse click -- can trigger a JavaScript reaction.

  * When we open the browser, we see a red block.

  * When we click on an area inside block, the area we clicked changes to a new color.

  * When we click on the area again, the color changes to a different color.

* Stress that we have already learned most of the skills needed to achieve this color change functionality. 

* We can use `setAttribute()` or the element's `.style` property to add or change an element's color.

* We can use the document methods `.querySelector()` or `.getElementbyId()` to access the element we want to change.

* Explain that in today's class, we will build on those skills and learn how to make our web pages more interactive by listening and responding to events. 

### 2. Instructor Demo: Event Listener (5 min) 

* Open `Ins_Event-Listener/index.html` in your browser and demonstrate the following:

  *  When we open the browser window, the background is in dark mode.

  *  When we click on the toggle switch, the background switches to light mode.

* Open `Ins_Event-Listener/assets/js/script.js` in your IDE and demonstrate the following:

  * 🔑  We add the `.addEventListener()` method to listen for an event on the theme switcher element.

  ```js
  themeSwitcher.addEventListener()
  ```

  * 🔑 The `.addEventListener()` method takes two parameters. The first is the type of event. We set that to `click` since we want something to happen when a user clicks on the theme switcher element.

  ```js
  themeSwitcher.addEventListener("click",
  ```

  * 🔑 The second parameter is the action that we want performed when a user clicks. It is a function.

  ```js
  themeSwitcher.addEventListener("click", function() {...})
  ```

  * 🔑 Inside the function, we write the code we want executed every time the event happens. We use `.setAttribute()` to change the background to a light color if the background is in dark mode.

  ```js
  if (mode === "dark") {
    mode = "light";
    container.setAttribute("class", "light");
  }
  ```

  * 🔑 Else when a user clicks, we set the background to a dark mode by setting the `dark` class. 

  ```js
   else {
     mode = "dark";
     container.setAttribute("class", "dark");
   } 
   ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ Where have we used conditional statements before?

  * 🙋 We used conditional statements to add decision making to our Rock, Paper, Scissors project. In fact, all the code used to perform the action that fires is code we learned before. Using the `.addEventListener()` is just adding a new layer to our JavaScript skills.

  * ☝️ The `.addEventListener()` needs two parameters to execute. What are the two parameters?

  * 🙋 The `.addEventListener()` method takes the name of the event such as "click" as the first parameter. The action that will be executed is the second parameter.  

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `12-Stu_Event-Listener/README.md`.

### 3. Student Do: Event Listener (15 min) 

* Direct students to the activity instructions found in `12-Stu_Event-Listener/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # 🏗️ Implement Event Handler on Mouse Click

  Work with a partner to implement the following user story:

  * As a developer, I want to increment or decrement a count when a user clicks on a button.

  ## Acceptance Criteria

  * It's done when a user clicks on the increment button and the count is increased by `1`.

  * It's done when a user clicks on the decrement button and if the count is greater than `0`, the count is decreased by `1`.

  ## Assets

  The following image demonstrates the web application's appearance and functionality:

  ![Mockup](./images/01-demo.gif)

  ---

  ## 💡 Hints

  What method can we use to listen for an event click? 

  ## 🏆 Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * A `click` is just one type of DOM event. What are some others?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: Event Listener (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with event listeners? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `.querySelector()`

  * ✔️ `.addEventListener()`

* Open `12-Stu_Event-Listener/Solved/assets/js/script.js` in your IDE and explain the following: 

  * 🔑 We use `.querySelector()` to select the button elements. 

  ```js
  var incrementEl = document.querySelector("#increment");
  var decrementEl = document.querySelector("#decrement");
  ```

  * 🔑 We add an `.addEventListener()` to the increment button and set the type of event to be a `click`.

  ```js
  incrementEl.addEventListener("click", function() {...})
  ```

  * 🔑 The `.addEventListener()` method's second parameter is a function that contains the action that we would like to execute when the `click` event occurs. This function increments the count by `1` and  calls the `setCounterText()` function to update the HTML. 

  ```js
  function() {
    count++;
    setCounterText();
  }
  ```

  * We repeat the process for the decrement button except use the decrement operator `--` to decrease the count. We add a conditional statement so the action is performed only if the count is greater than `0`.

  ```js
  decrementEl.addEventListener("click", function() {
    if (count > 0) {
      count--;
      setCounterText();
    }
  });
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How can we listen for an event on an element and then react by performing an action?

  * 🙋 We use the`.addEventListener()` method. We set the method's first parameter to the type of event we want to listen for and the second parameter is the action we want performed when an event, like a mouse click, happens.

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs on EventTarget.addEventListener()](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: Preventing Default (5 min) 

* Open `13-Ins/Preventing-Default/index.html` in your browser and demonstrate the following:

* When we enter information and click on the submit button on this form, a message appears.

* 🔑 The message includes the information that we entered in the text fields and the text fields are not cleared. This works because we canceled the form's default action. 

* Open `13-Ins/Preventing-Default/assets/js/script.js` in your IDE and demonstrate the following:

  * 🔑 Sometimes, we want to prevent a default action from occurring in response to an event.

  * 🔑 When we click on button inside a `<form>` element, the information in all text fields is cleared out by default.

  * 🔑 To prevent that action from happening, we use `event.preventDefault()`. This allows us to retain the information inputted to the text field after the click so we can print the message.

  ```js
  function showResponse(event) {
    event.preventDefault();
    console.log(event);
    var response = "Thank you for your submission " + nameInput.value + "! We will reach out to you at " + emailInput.value + ".";
    submissionResponseEl.textContent = response;
  }
  ```

  * 🔑 The action we want peformed when a user clicks on an element can also be separated into its own, named function. We add it as a parameter of the `.addEventListener()` method by using the name of function. This is useful when we want to separate the logic or use the same action in multiple places in your code. 

  ```js
  submitEl.addEventListener("click", showResponse);
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How do we prevent a default action from occurring when an event fires?

  * 🙋 We use `event.preventDefault()`. This is useful when we want to cancel the default action and instead execute the code that we wrote. 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `14-Stu_Prevent-Default/README.md`.

### 6. Student Do: Preventing Default (15 min) 

* Direct students to the activity instructions found in `14-Stu_Prevent-Default/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # 🐛 Submit Button on Form Returns 404 Error

  Work with a partner to resolve the following issue(s):

  * Users should be able to see the calculated tip amount and total on the screen after clicking on the submit button. 

  ## Expected Behavior

  When a user enters numbers in the text fields and clicks on the `Calculate Tip` button, calculated totals for both the tip amount and total should appear on screen.  

  ## Actual Behavior

  When a user clicks on the `Calculate Tip` button, a 404: ENOENT error appears. 

  ## Assets

  The following image demonstrates the web application's appearance and functionality:

  ![Mockup](./images/01-screenshot.png)

  ---
  ## 💡 Hints

  What action may be preventing the calculated totals from being rendered correctly on the page? How can we cancel that action?

  ## 🏆 Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * Even when an event is canceled, it continues to propogate. What does that mean? 

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Preventing Default (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with preventing default actions? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `.addEventListener()`

  * ✔️ `event.preventDefault()`

* Open `14-Stu_Prevent-Default/Solved/assets/js/script.js` in your IDE and explain the following: 

  * When we click the submit button, some actions are automatically performed by the browser by default. This can cause unwanted behavior or errors.

  * 🔑 To fix this, we add a line of code to the action we want to have performed when we click. In this case, the `.addEventListener()` is used to set up the `addTip` function to be executed when the button is clicked.

  ```js
  submitEl.addEventListener("click", addTip);
  ```

  * 🔑 Inside the `addTip` function, we add `event.preventDefault()` to the top of the code block. This will stop the browser from clearing the information in the text fields by default.

  ```js
  function addTip(event) {
    event.preventDefault();
    var tipPercentage = tipEl.value * .01;
    var total = totalEl.value;
    var tipAmount = calculateTip(total, tipPercentage);
    var newTotal = calculateTotal(tipAmount, total);
    document.querySelector("#tip-amount").textContent = tipAmount;
    document.querySelector("#new-total").textContent = newTotal.toFixed(2);
  }

* Open `14-Stu_Prevent-Default/Solved/index.html` in your browser and explain the following:

* When we test our app, we see that the when we stopped the browser from executing the default behavior using `event.preventDefault()`, the app now executes as expected. The error is gone.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How do we stop default browser actions?

  * 🙋 We use `event.preventDefault()` to stop the default behavior. This can be useful for blocking unwanted default behavior in our code.

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs on event.preventDefault()](https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Keyboard Events (5 min) 

* Open `15-Ins_Keyboard-Events/index.html` in your browser and demonstrate the following:

  * A mouse click is just one type of event we can use to trigger an action.

  * When we change the font type from `serif` to `monospace`, the font of the page is changed.

  * When we push down on a letter key in the text box, the letter that is pushed on the keyboard is displayed.

* Open `15-Ins_Keyboard-Events/assets/js/script.js` in your browser and demonstrate the following:

  * 🔑 We attach a `change` event to the `<select>` element using `.addEventListener()`. When the user selects a value from the dropdown, the function will execute. Note that the first parameter is the event, so we use `change`.

  ```js
  typefaceEl.addEventListener("change", function(event) {
    event.preventDefault();
    typeface = typefaceEl.value;
    document.querySelector(".container").style.fontFamily = typeface;
  });
  ```

  * 🔑 We also attach a keyboard event to the `<textarea>` element using `.addEventListener()`. A `keydown` event is fired when a key is pressed down.
  ```js
  textAreaEl.addEventListener("keydown", function(event) {...})
  ```

  * 🔑 Keyboard events have two commonly used properties. The `key` property returns the value of the key pressed. The `code` property returns the key's code. We use `event.key` to access the value of the pressed key. 

  ```js
  var key = event.key.toLowerCase();
  ```

  * 🔑 We use the `.textContent` property to set the content of an element to the pressed key's value.

  ```js
  element.textContent += event.key;
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How do we access the value of a pressed key?

  * 🙋 We use the event object's properties. Two commonly used properties are `key` and `code`. 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `16-Stu_Keyboard-Events/README.md`.

### 9. Student Do: Keyboard Events (15 min) 

* Direct students to the activity instructions found in `16-Stu_Keyboard-Events/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # 📖 Implement Keyboard Events to Display Value and Code of Pressed Key

  Work with a partner to implement the following user story:

  * As a developer, I want to display the value and code of a pressed key.

  ## Acceptance Criteria

  * It's done when a key is pressed down, and the value of the key and the key's code is displayed. `KEYDOWN Event` should also be displayed to indicate the type of event. 

  * It's done the key is released, `KEYUP Event` is displayed

  ## 📝 Notes

  Refer to the documentation: 

  [MDN Web Docs on Document: keyup event](https://developer.mozilla.org/en-US/docs/Web/API/Document/keyup_event)

  [MDN Web Docs on Document: keydown event](https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event)

  ## Assets

  The following image demonstrates the web application's appearance and functionality:

  ![Mockup](./images/01-screenshot.png)

  ---

  ## 💡 Hints

  What properties can we use to access the value of the pressed key and the key's code?

  ## 🏆 Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * What other properties can you access using the KeyboardEvent Object? 

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: Keyboard Events (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with keyboard events? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `event.key`

  * ✔️ `event.code`

   * ✔️ `keydown`

* Open `16-Stu_Keyboard-Events/Solved/assets/js/script.js` in your IDE and explain the following: 

  * 🔑 We use the `key` property to access the value of the pressed key and store it in a variable.

  ```js
  var keyPress = event.key;
  ```

  * 🔑 We use the `code` property to access the key's code.
  ```js
  var keyCode = event.code;
  ```

  *  We display the pressed key, key code and status on the page by setting the elements content using `.textContent`.

  ```js
  document.querySelector("#key").textContent = keyPress;
  document.querySelector("#code").textContent = keyCode;
  document.querySelector("#status").textContent = "KEYDOWN Event";
  ```

  * 🔑 We attach an `addEventListener()` method to the `document` and set the first parameter to `keydown`. This will fire the event when the key is pressed down. This is different than `keyup` which is fired when the key is released.

  ```js
  document.addEventListener("keydown", keydownAction);
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How are keyboard events useful in our code? 

  * 🙋 Keyboard events react to user input on the keyboard. This can be used in many ways. In some games, pressing a specific key allows a user to interact with the game. Other times, a developer may ask a user to press a certain key to go to another page or indicate a choice.

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs on KeyboardEvent](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: Event Bubbling (5 min) 

* Open `17-Ins_Event-Bubbling/index.html` in your browser and demonstrate the following:

  * 🔑 When we click on the outer box, the color changes to purple.

  * 🔑 When we click on the inner box, the color changes to orange.

  * 🔑 When we click on the nested button, the button turns blue.

  * 🔑 When we refresh the page, and click on the button first, all the colors change.

* Open `17-Ins_Event-Bubbling/index.html` in your IDE and demonstrate the following:

  * 🔑 Event bubbling happens by default in JavaScript. That means when an event such as a mouse click occurs, the event will traverse up the DOM tree and can create a chain reaction of events.

  * 🔑 In our HTML, the button is nested inside the orange box which is nested inside the purple box, so the event will travel up from the button to the orange box to the purple box.

  ```html
   <div>
    <h2>Event Bubbling </h2>
    <div class="outer-div">CLICK TO TURN ME PURPLE
      <div class="inner-div">CLICK TO TURN ME ORANGE
        <div>
          <button class="button">CLICK TO TURN ME BLUE</button>
        </div>
      </div>
    </div>
  </div>
  ```

* Open `17-Ins_Event-Bubbling/assets/js/script.js` in your browser and demonstrate the following: 

  * 🔑 When we click on the button, the `changeBlue` function fires and the button turns blue. .

 ```js
 function changeBlue(event) {
  event.currentTarget.setAttribute(
    "style",
    "background-color: blue"
  );
}
```

  * 🔑 The click event also travels up the DOM. Since the orange box is also listening for a click, the color changes too. The same with the purple box. 

```js
outer.addEventListener("click", changePurple);
inner.addEventListener("click", changeOrange);
button.addEventListener("click", changeBlue);
```

 * 🔑 To stop this from happening, we use `event.stopPropagation()`.  When we add the method at the top of functions that change the color, the event bubbling stops.

```js
event.stopPropagation();
```
* Open `17-Ins_Event-Bubbling/index.html` in your browser and demonstrate the following:

  * 🔑 When we click on the boxes or the nested button, only that element changes color. 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What do we need to do to stop event bubbling?

  * 🙋 When an event occurs, it traverses up the DOM tree by default. To stop that action from happening, we use event.`stopPropagation()`.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `18-Stu_Event-Bubbling/README.md`.

### 13. Student Do: Event Bubbling (15 min)

* Direct students to the activity instructions found in `18-Stu_Event-Bubbling/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # 📐 Add Comments to Implementation of .stopPropagation() Method

  Work with a partner to add comments describing the functionality of the code found in [Unsolved](./Unsolved/assets/js/script.js).

  ## 📝 Notes

  Refer to the documentation: 

  [MDN Web Docs on Event.stopPropagation()](https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation)

  [MDN Web Docs on Creating and Triggering Events](https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events)

  ---

  ## 🏆 Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * What is event delegation? How is it different from event bubbling? 

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 14. Instructor Review: Event Bubbling (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with event bubbling? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `carousel.querySelector()`

  * ✔️ `event.stopPropagation()`

* Open `19-Stu_Event-Bubbling/Solved/assets/js/script.js` in your IDE and explain the following: 

  * 🔑 We select the buttons using their parent carousel element. 

    ```js
    var next = carousel.querySelector(".next");
    var prev = carousel.querySelector(".prev");
    ```

  * We use the `.addEventListener()` method to open a new window when the image is clicked. 

   ```js
   carousel.addEventListener("click", function() {
    window.location.href = images[index];
   });
   ```

  * 🔑 The nested buttons also have an event listener attached. To prevent the click event from bubbling up to the parent carousel and causing a new window to open, we use `event.stopPropagation()`

  ```js
  next.addEventListener("click", function(event) 
  event.stopPropagation();
  navigate(1);
  });
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What is event bubbling in a nutshell?  

  * 🙋 By default, events bubble up the DOM tree from the innermost HTML element. That means if we click on a nested button, it is like we clicked on the parent element too. To prevent this default action, we use `event.stopPropagation()` so that the event will no longer travel up the DOM tree. 

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs Intro to Events](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events), [MDN Web Docs on Event.stopPropagation()](https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation) and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: Data Attributes (5 min) 

* Open `19-Ins_Data-Attributes/index.html` in your browser and demonstrate the following:

  * 🔑 When we click on an image, it animates.

  * 🔑 When we click again, the image stops. 

* Open `19-Ins_Data-Attributes/index.html` in your IDE and demonstrate the following:

  * 🔑 We can store information in HTML elements using data attributes.

  * 🔑 We use `data-` to start the name of any element that is a data attribute.
  
  ```html
  <img 
    src="https://media0.giphy.com/media/4Zo41lhzKt6iZ8xff9/200w_s.gif"
    data-animate="https://media0.giphy.com/media/4Zo41lhzKt6iZ8xff9/200w.gif"
    data-still="https://media0.giphy.com/media/4Zo41lhzKt6iZ8xff9/200w_s.gif"
    data-state="still" 
    alt="Funny dog flapping ears and tilting head side to side"
  />
  ```
* Open `19-Ins_Data-Attributes/assets/js/script.js` in your IDE and demonstrate the following:

  * 🔑 We can access the information in a data attribute and store it in a variable using `.getAttribute()`.

  ```js
  var state = element.getAttribute("data-state");
  ```

   * 🔑 We can also access the value of the data attribute through the `dataset` object

  ```js
  var state = element.getAttribute("data-state");
  ```

   * 🔑 We can set a data attribute using `.setAttribute()`.

  ```js
  element.setAttribute("data-state", "animate");
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How do we store information in an HTML element?

  * 🙋 We use a data attribute. The syntax is simple. We start the attribute name with `data-`. 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `20-Stu_Data-Attributes/README.md`.

### 16. Student Do: Data Attributes (15 min) 

* Direct students to the activity instructions found in `20-Stu_Data-Attributes/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # 🏗️ Use Data Attributes to Display Hidden Number

  Work with a partner to implement the following user story:

  * As a player, I want to click on a card and view the hidden number.

  ## Acceptance Criteria

  * It's done when I click on a card and the hidden number is revealed.

  * It's done when if the number is visible and the card is clicked, the number is hidden. 

  ## Assets

  The following image demonstrates the web application's appearance and functionality:

  ![Mockup](./images/01-screenshot.png)

  ---

  ## 💡 Hints

  How can we use the dataset object to access an element's data attributes? 

  ## 🏆 Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * We have learned `.getAttribute()` and `.setAttribute()`. What other methods can you use to access an element's attributes? 

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 17. Instructor Review: Data Attributes (15 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with data attributes? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `.getAttribute()`

  * ✔️ `dataset`

  * ✔️ `.setAttribute()`

* Open `20-Stu_Data-Attributes/Solved/assets/js/script.js` in your IDE and explain the following: 

  * 🔑 We use `getAttribute()` to store the value of the clicked element's `data-state` attribute in a  variable.

   ```js
  var state = element.getAttribute("data-state");
  ```

  * 🔑 If the state is `hidden`, we use the `dataset` object to set the text content to the number.

  ```js
  element.textContent = element.dataset.number;
  ```

  * 🔑 We also use the `dataset` object to set the value of state to be `visible`.

  ```js
  element.dataset.state = "visible";
  ```

  * If the state is `visible`, we empty the text content so the number is removed.

  ```js
  element.textContent= "";
  ```

  * 🔑 We also set the state's value to `hidden` using the `setAttribute()` method.

  ```js
  element.setAttribute("data-state", "hidden")
  ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are two ways we can get values store in data attributes?

  * 🙋 We can use the `getAttribute()` method or the `dataset` property

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs on Using Data Attributes ](https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes), and stick around for office hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did today’s lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
