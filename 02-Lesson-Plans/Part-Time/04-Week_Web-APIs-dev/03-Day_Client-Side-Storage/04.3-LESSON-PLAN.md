# 04.3 Part-Time Lesson Plan: Client Side Storage 

## Overview 

In today's lesson, the class will delve further into storing data locally within the user's browser using local storage. Students will also work together to build a timer mini-project that reinforces the DOM manipulation and Web API skills covered this week. 

## Instructor Notes

* In this lesson, students will complete activities `XX-Ins_Demo-Title` through `XX-Stu_Activity-Title`.

* In the activities and the mini-project, students will be required to apply the DOM manipulation skills they learned in this week. Encourage the students to look back on previous activities to refresh their memory and for help with syntax, if needed. 

* Be ready to view and edit local storage  key-value pairs in Chrome DevTools. If you need a quick refresher, refer to [View And Edit Local Storage With Chrome DevTools](https://developers.google.com/web/tools/chrome-devtools/storage/localstorage).

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

* If the students struggle with the `Everyone Do: Git` activity, walk through it with the students using the talking points provided. Otherwise, support the students as they do the activity and do a brief review at the end. 

## Learning Objectives

By the end of class, students will be able to:

* Store data in the user's browser using local storage.

* Explain when client side storage is the right solution.

* {TODO One more}

## Time Tracker

| Start  | #   | Activity Name                            | Duration |
|---     |---  |---                                       |---       |
| 10:00AM| 1   | Instructor Do: Stoke Curiosity           | 0:10     |
| 10:10AM| 2   | Instructor Demo: Local Storage           | 0:05     |
| 10:15AM| 3   | Student Do: Local Storage                | 0:15     |
| 10:30AM| 4   | Instructor Review: Local Storage         | 0:10     |
| 10:40AM| 5   | Instructor Demo: Local Storage Objects   | 0:05     |
| 10:45AM| 6   | Student Do: Local Storage Objects        | 0:15     |
| 11:00AM| 7   | Instructor Review: Local Storage Objects | 0:10     |
| 11:10AM| 8   | Instructor Demo: Local Storage Todo      | 0:05     |
| 11:15AM| 9   | Student Do: Local Storage Todo           | 0:15     |
| 11:30AM| 10  | Instructor Review: Local Storage Todo    | 0:10     |
| 11:40AM| 11  | Everyone Do: Git                         | 0:20     |
| 12:00PM| 12  | BREAK                                    | 0:40     |
| 12:40PM| 13  | Instructor Demo: Mini Project            | 0:05     |
| 12:45PM| 14  | Student Do: Mini Project                 | 0:60     |
| 1:45PM | 15  | Instructor Review: Mini Project          | 0:10     |
| 1:55PM | 16  | Introduce Homework                       | 0:05     |
| 2:00PM | 17  | END                                      | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Remind the students that DOM manipulation and Web API skills are powerful tools that allow developers to build fully interactive web apps but they can also be tricky for those new to programming.

* Reassure students that during today's class there will be plenty of time to practice the skills covered during the week to help develop and hone their DOM manipulation skills.

* Inform the students that today's class they will also learn a new, dependable DOM tool that will allow them to do something new with their web pages: store data right in the browser. 

* Open `26-Stu_Local-Storage-Todos/Solved/index.html` in your browser and point out the following to students:

  * When we enter a `todo` into the text box, a new HTML element is created.

  * When we click on the button, the `todo` disappears. 

  * When we close the brower tab and re-open it, the added `todo` is still there.

* Note that previously, when we closed a browser, the data did not persist. That is because there was no way for the page to 'remember' data. 

* Local storage is a property of the `window object` that allows us to store data in the browers and use it on our page even after the browser window is closed. 

* Ask the class the following question(s):

  * ‚òùÔ∏è What is the `window object`?

  * üôã The `window object` represents an open browser window. The `window object` has its own methods and properties. 
 
* The local storage property allows us to store data right in the window object.  So when a page is closed, the data can be stored until the page is re-opened or it is retrieved. 

* By using local storage we can 'remember' bits of information like a user's log-in information, preferences to help make pages more user-friendly and interactive. 

* Using local storage is also just another application of DOM manipulation and Web APIs.

### 2. Instructor Demo: Local Storage (5 min)

* Open `21-Ins_Local-Storage/index.html` in your browser and demonstrate the following:

  * üîë We click on the buttons to increase and decrease the number of hours coded.

  * üîë When we refresh the page, the number of hours does not reset as we might expect. Instead, the last number of hours is 'remembered' and is displayed.

* Open Chrome DevTools and click the Application tab to open the Application panel to view local storage.

  * üîë The count is stored as a key-value pair in the browser's local storage. When we increase or decrease the count by clicking the button, the value stored in local storage changes too.

* Open `19-Ins_Local-Storage/assets/js/script.js` in your IDE and demonstrate the following:

  * üîë When we click on a button, we add the click count to storage using the local storage method `.setItem()`. 

  * üîë Set item takes a key-value pair. The first is the name we use to refer to the stored data. The second is the value. Since we want to store the current count in local storage, we give it a key of `count` and set it to the value of the current count.

  ```js
  localStorage.setItem("count", count);
  ```

  * üîë To retrieve the count, we use local storage's `getItem()` method. 

  ```js
  var  count = localStorage.getItem("count");
  ```

  * üîë We display the retrieved count in HTML using the `.textContent` property.

  ```js
  counter.textContent = count;
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

* ‚òùÔ∏è How can we save key-value pairs in our browser and retrieve them to use in our code?

* üôã We use local storage. We use `setItem()` to set a key-value pair and `.getItem()` to retrieve it.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `22-Stu_Local-Storage/README.md`.

### 3. Student Do: Local Storage (15 min)

* Direct students to the activity instructions found in `22-Stu_Local-Storage/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # üèóÔ∏è Implement Local Storage for Sign-Up Form

  Work with a partner to implement the following user story:

  * As a developer, I want to save the email and password to localStorage and render the last submission to the page.

  ## Acceptance Criteria

  * It's done when `Last Registered User: ` displays the last email and password saved to local storage, if it exists.

  * It's done when the `signUpButton` is clicked, the email and password entered into the text boxes is saved to local storage and the information under `Last Registered User: ` is updated.

  ## Assets

  The following image demonstrates the web application's appearance and functionality:

  ![Mockup](./images/01-screenshot.png) 

  ---

  ## üí° Hints

  What methods do we use to set and get items to local storage?

  ## üèÜ Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * Does local storage have an expiration date? What happens when the browser is closed?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---

  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: Local Storage (15 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

* ‚òùÔ∏è How comfortable do you feel with local storage? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help! 

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `localStorage.getItem()`

  * ‚úîÔ∏è `localStorage.setItem()`

* Open `22-Stu_Local-Storage/Solved/assets/js/script.js` in your IDE and explain the following:

  * We use `querySelector()` to select our DOM elements and assign them to variables.

  ```js
  var  emailInput = document.querySelector("#email");
  var  passwordInput = document.querySelector("#password");
  var  signUpButton = document.querySelector("#sign-up");
  var  msgDiv = document.querySelector("#msg");
  var  userEmailSpan = document.querySelector("#user-email");
  var  userPasswordSpan = document.querySelector("#user-password");
  ```

  * üîë In the `renderLastRegistered()` function, we query `localStorage` using the `getItem()` method for both `email` and `password` strings.

  ```js
  function  renderLastRegistered() {
  var  email = localStorage.getItem('email');
  var  password = localStorage.getItem('password');
  ```

  * If either `email` or `password` are null, our function returns. Otherwise, we render the values using the `textContent` property in the `userEmailSpan` and `userPasswordSpan` elements, respectively.

  ```js
  if (email === null || password === null) {
  return;
  }

  userEmailSpan.textContent = email;
  userPasswordSpan.textContent = password;
  ```

  * We use `addEventListener()` on our `signUpButton` and listen for a `click`event. We prevent the browser's default action using `event.preventDefault()`.

  ```js
  signUpButton.addEventListener('click', function(event) {
  event.preventDefault();
  ```

  * We use `querySelector()` and the `value` property to assign the values in the form fields to `email` and `password` variables.

  ```js
  var email = document.querySelector('#email').value;
  var password = document.querySelector('#password').value;
  ```

  * üîë We store the values in `localStorage` using the `setItem()` method and call the `renderLastRegistered()` method. If the `email` or `password` strings are empty, we display an error message. Otherwise, we display a message indicated the registration is successful.

  ```js
  if (email === "") {
    displayMessage("error", "Email cannot be blank");
    } else  if (password === "") {
      displayMessage("error", "Password cannot be blank");
    } else {
      displayMessage("success", "Registered successfully");
      localStorage.setItem("email", email);
      localStorage.setItem("password", password);
      renderLastRegistered();
    };
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Where is the data stored in local storage stored?

  * üôã Values stored in `localStorage` are stored locally in the user's browser as key-value pairs.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage), and stick around for Office Hours to ask for help.

  

* Answer any questions before ending the class.

### 5. Instructor Demo: Local Storage Objects (5 min) 

* Open `23-Ins_Local-Storage-Objects/index.html` in your browser and demonstrate the following:

  * üîë We often want to store data that is related together. To do that, we can use an object. 

  * üîë When we select a student's name, grade and make a comment, the information is saved.

* Open Chrome DevTools and click the Application tab to open the Application panel to view local storage.

  * üîë When we open Chrome DevTools, we can see that the the student's name, grade and comment are stored together in single key-value pair. 

* Open `23-Ins_Local-Storage-Objects/assets/js/script.js` in your IDE and demonstrate the following:

  * üîë When the button is clicked, we store the current values as an object. 

  ```js
  var studentGrade = {
    student: student.value,
    grade: grade.value,
    comment: comment.value.trim()
  };
  ```

* üîë If we tried to store the object directly in local storage, we would get an error. So we use the `JSON.stringify()` method to convert the object into a string.

  ```js
  JSON.stringify(studentGrade)
  ```

* üîë The string can then be stored as a key-value pair in local storage using the `setItem()` method.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How can we store a group of related data in local storage?

  * üôã We can use an object. 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `24-Stu_Local-Storage-Objects/README.md`.

### 6. Student Do:  (15 min) 

* Direct students to the activity instructions found in `24-Stu_Local-Storage-Objects/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # üèóÔ∏è Save Object in Local Storage

  Work with a partner to implement the following user story:

  * As a developer, I want to save the information from a form as an object in local storage.

  ## Acceptance Criteria

  * It's done when I click on the `save` button and the form's current values are stored in a object.

  * It's done when the object is saved as a single key-value pair in local storage. 

  ## üí° Hints

  What JSON method can you use to return a string? 

  ## üèÜ Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * What is JSON? How is it useful for sending and storing data?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.

  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Local Storage Objects (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with local storage objects? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 9. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

  ```md
  @TODO ADD INSTRUCTIONS
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. Instructor Review: { ACTIVITY NAME } (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

  ```
  @TODO ADD CODE SNIPPET, TABBED
  ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 11. Everyone Do: Git (20 min)

* @TODO Open [Git docs](https://git-scm.com/docs/{TITLE}) in your browser and explain the following:

  * @TODO GIVE A SHORT EXPLANATION OF THIS GIT CONCEPT/COMMAND.

* Direct students to the activity instructions found in `@TODO/folder/file`.

* While everyone is working on the activity, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

* Open your command line and demonstrate the following:

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

  ```
  @TODO ADD CODE SNIPPET, TABBED
  ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Answer any questions before students go on break.

### 12. BREAK (40 min)

### 13. Instructor Demo: Mini Project (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following:

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? } 

* Answer any questions before allowing students to start the mini project.

### 14. Student Do: Mini Project (60 min)

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into groups that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 15. Instructor Review: Mini Project  (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with this mini-project? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 16. Instructor Demo: Introduce Homework (5 min)

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following:

  * @TODO { WHAT ARE WE GOING TO BE BUILD? }

  * @TODO { ISN'T THIS NEAT! A SOPHISTICATED OR MODERN APPLICATION OF A KEY TOPIC. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What are we learning?

  * üôã @TODO { YES, WHAT? }.

  * ‚òùÔ∏è How does this project build off or extend previously learned material?

  * üôã @TODO {YES, WHAT? }.

  * ‚òùÔ∏è How does this project relate to your career goals?

  * üôã @TODO { HOW DO COMPANIES USE IT IN INTERESTING WAYS? HOW POPULAR OR IN-DEMAND IS IT? WHY IS THE PROJECT ENTICING TO EMPLOYERS? }

* Ask TAs to direct students to the Homework Requirements found in `@TODO/folder/file`.

* Answer any questions before ending the class.

### 17. END (0 min)

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
