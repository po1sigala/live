# 17.2 Part-Time Lesson Plan: Computer Science For JavaScript

## Overview 

In today's class, students will be taking a dive deep into what JavaScript does under the hood. Students will get to see how Higher order functions work and how we can implement them into our code. Next, students will get to see the fascinating behavior of closures. Along with learning about closures, they will learn how to leverage them with factory functions. Students will learn about the difference between inheritance and a composition based approach when designing an application. Finally, students will learn a new way to delegate events using closures.

## Instructor Notes

* In this lesson, students will complete activities `11-Ins_Higher-Order-Functions` through `20-Stu_Event-Delegation-Handling`.

* This section deals with a few abstract topics, it's important to keep discussion and dialog open so students can better grasp these topics.

* Closure are a huge chunk of the day's activities. If you are feeling a little unsure about them, take a moment to get more familiar with them.

* In `13-Ins_Closures` we use `console.dir`, students do not need to learn about it. We are using it for a visual demonstration only.

* We will be using jest in a couple of the activities so make sure students use `npm run test` when prompted.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

By the end of class, students will be able to:

* Construct their own higher order functions.

* Explain the lexical environment.

* Identify encapsulated variables.

* Create a factory function.

* Distinguish the difference between inheritance and composition design.

## Time Tracker
@TODO ADD ACTIVITY TITLES for Instructor Demo, Student Do, and Instructor Review
| Start  | #   | Activity Name                                        | Duration |
|---     |---  |---                                                   |---       |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity                       | 0:10     |
| 6:40PM | 2   | Instructor Demo: Higher Order Functions              | 0:05     |
| 6:45PM | 3   | Student Do: Higher Order Functions                   | 0:15     |
| 7:00PM | 4   | Instructor Review: Higher Order Functions            | 0:10     |
| 7:10PM | 5   | Instructor Demo: Closures                            | 0:05     |
| 7:15PM | 6   | Student Do: Closures                                 | 0:15     |
| 7:30PM | 7   | Instructor Review: Closures                          | 0:10     |
| 7:40PM | 8   | Instructor Demo: Factory Functions                   | 0:05     |
| 7:45PM | 9   | Student Do: Factory Functions                        | 0:15     |
| 8:00PM | 10  | BREAK                                                | 0:15     |
| 8:15PM | 11  | Instructor Review: Factory Functions                 | 0:10     |
| 8:25PM | 12  | Instructor Demo: Constructor vs Factory functions    | 0:05     |
| 8:30PM | 13  | Student Do: Constructor vs Factory Functions         | 0:15     |
| 8:45PM | 14  | Instructor Review: Constructor vs Factory Functions  | 0:10     |
| 8:55PM | 15  | Instructor Demo: Event Delegation / handling         | 0:05     |
| 9:00PM | 16  | Student Do: Event Delegation / handling              | 0:15     |
| 9:15PM | 17  | Instructor Review: Event Delegation / Handling       | 0:15     |
| 9:30PM | 18  | END                                                  | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝ How many programming paradigms does JavaScript have?
  
  * 🙋 Three!

* Explain that we will be learning about the techinical portion of the interview process. With a focus on the functional paradigm of JavaScript.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What is another alternative to using classes in JavaScript?

  * 🙋 Factory Functions.

* Reasure the students that these topics can get abstract and be sure to ask questions.

* JavaScript has many layers and interviewers want to know how well a caniditate understands them. 

* In JavaScript we have choice to make early on that will dictate how we design our application.

* It is important that a developer can recogonize the difference in these design patterns.

* Let students know this knowledge comes with time and practice and not to fall into that sinking feeling of imposter syndrome.

* They have been using these concepts all along and now we are just expanding on that knowledge.

### 2. Instructor Demo: Higher Order Functions (5 min) 

* Open `11-Ins_Higher-Order-Functions/index.js` in your IDE and explain the following:

  * 🔑 We first create a function that we will be using to pass into the JavaScript provided higher order function, `.map()`.

  * We have access to the element and the index of the element which is provided to us through the `.map()` method.

    ```js
     // Create a function which accepts two arguments, number and index.
    // The index of the array is provided to us because we will pass this function through .map array method.
    function evenIndexMultiplier(number, index) {
    ```
  
  * 🔑 Next, we create the logic for our function that will be passed into our higher order function, the `.map()` method.

    ```js
    function evenIndexMultiplier(number, index) {
      // Checking to see if we are on an even index inside of the array we are mapping through.
      if (index % 2 === 0) {
      // Multiply the number on the even index by 10.
      return number * 10;

      }

      // Return the number if it is on an odd index.
      return number;
      }
    ```

  * 🔑 Finally, we pass our newly created function into `.map()` method and storing it into a variable named `evenIndexes`.
  
  * 🔑 Now we have a function which accepts another function as an argrument, creating a higher order function.

  * 🔑 We are not limited to only using `evenIndexMultiplier` inside the `.map()` method. We can use `evenIndexMultiplier` anywhere in our application or even in a custom higher order function.
    ```js
    // Create a new variable to store our newly mapped array with our `evenIndexMultiplier` function passed through it.
    const evenIndexes = arrayIndex.map(evenIndexMultiplier);

    ```

* Run `11-Ins_Higher-Order-Functions/index.js` from the command line and demonstrate the following: 

  * 🔑 As we can see every even index is being multiplied by ten which is exactly what our function was meant to do.

    ```
    [10, 52, 350, 6, 720, 7, 30, 19, 320, 54, 780, 95, 970]
    ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How can we use higher order functions to our benefit?

  * 🙋 It makes our code more reusable.

  * ☝️ Do we have to use a JavaScript provided higher order function?

  * 🙋 No, we can create our own. The function just needs to be able to accept another function for an argument.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `12-Stu_Higher-Order-Functions/README.md`.

### 3. Student Do: Higher Order Functions (15 min) 

* Direct students to the activity instructions found in `12-Stu_Higher-Order-Functions/Unsolved/index.js`.

* Break your students into pairs that will work together on this activity.

```md
# 🏗️ Create a function to pass into the reducer method that finds the average of an array of numbers

Work with a partner to implement the following user story:

* As a teacher, I want to be able to find the average grade of my entire class.

* As a developer, I want to be able to reuse my `findAverage` function in multiple filter method calls throughout my application so that my code is not being duplicated unnecessarily.

## Acceptance Criteria

* It's done when the `findAverage` function correctly calculates the average of an array of numbers.

* It's done when the `findAverage` function is being correctly passed through the reduce method.

## 💡 Hints

How do you find out how many elements are in an array? 

## 🏆 Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* What other built-in functions are also higher order functions? 

Use [Google](https://www.google.com) or another search engine to research this.

---
© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: Higher Order Functions (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `higher order functions`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ Accepting another function as an argument.

  * ✔️ `.reduce()`

* Open `12-Stu_Higher-Order-Functions/Solved/index.js` in your IDE and explain the following: 

  * We create a function named `findAverage` that has access to four arguements `accumulator`, `currentValue`, `index`, and `array`.

  * 🔑 We have access to these arguments because they are provided to us through the `.reduce()` method.

    ```js
    function findAverage(accumulator, currentValue, index, array) {
    ```

  * Check to see if we are at the final index of the given array.

  * If so, we return our total plus the current value and divide it by how many elements are in the array. 
  
    ```js
    function findAverage(accumulator, currentValue, index, array) {
      // Check to see if we are at the end of the given array.
      if (index === array.length - 1) {
      // Once we have reached the end of the array we divide by how many elements are in the given array.
      return (accumulator + currentValue) / array.length;
    }
    }
    ```
    
  * If we have not reached the end of the array, add the total to the current value we are on. 
  
    ```js
    function findAverage(accumulator, currentValue, index, array) {
      // Check to see if we are at the end of the given array.
      if (index === array.length - 1) {
      // Once we have reached the end of the array we divide by how many elements are in the given array.
      return (accumulator + currentValue) / array.length;
    }

    // Add the current value to our total.
    return accumulator + currentValue;
    }
    ```
  
  * 🔑 Pass our newly created `findAverage` function into the `.reduce()` method.

    ```js
    // Pass the 'findAverage' function into the reduce method.
    let gradeAverage = grades.reduce(findAverage);
    ```

* Run `12-Stu_Higher-Order-Functions/Solved/index.js` from the command line and demonstrate the following:

  * 🔑 Inside of the `console` we should see the correct average being displayed.

      ```
      [79.5]
      ```

    

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are some other JavaScript methods that are higher order functions?

  * 🙋 `.filter()` `forEach()`

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [MDN Web Docs on Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? }

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 6. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

  ```
  @TODO ADD CODE SNIPPET, TABBED
  ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 9. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

  ```md
  @TODO ADD INSTRUCTIONS TABBED
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 13. Student Do: { ACTIVITY NAME } (15 min)

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS TABBED
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 14. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 16. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 17. Instructor Review: { ACTIVITY NAME } (15 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did today’s lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
@TODO © YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.