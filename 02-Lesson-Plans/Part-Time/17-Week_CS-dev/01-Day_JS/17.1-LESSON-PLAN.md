# 17.1 Part-Time Lesson Plan: JavaScript Execution

## Overview 

In today's class, students will be re-introduced to JavaScript. They will breakdown how JavaScript executes an application so they can understand how the different components work together to run a program. Students will use the browser to understand the role of Web APIs and asynchronous behavior.

## Instructor Notes

* In this lesson, students will complete activities `01-Ins_Global-Execution-Context` through `10-Stu_Callback-Queue`.

* The first activity, `01-Ins_Global-Execution-Context`, steps through the execution process of JavaScript in the browser. This is an effort to peak behind the curtain to see which components of JavaScript are used to execute different parts of a program.

* Students may get hung up over the difference between scope and context. Scope refers to the accessibility of variables. Context refers to the object to which the function belongs. [Scope vs Context](https://blog.kevinchisholm.com/javascript/difference-between-scope-and-context/)

* You will be using Jest to test some of the activities. Be sure to familiarize yourself with the tests.

* Activities `04-Stu_Functional-Execution-Context` through `08-Stu_Queues` have test suites. Much of the instruction on how to pass the tests will be described in each unit test. The tests are not to be modified. Each of these are Node activities, so you will need to `npm install` before running the tests. A `jest --watch` script has been used to simplify re-running tests.

* The last activity of the day, `10-Stu_Callback-Queues`, uses a while loop to create a blocking process, making the page unresponsive and slow to load. Students may need to refresh their browsers or select the Block button to demonstrate the blocking effect. The point of this activity is only to **delay** this blocking process so the page can render quickly to improve the UX and webpage performance.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code.

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

By the end of class, students will be able to:

* Explain the differences between a global execution context and a function execution context.

* Identify when a function execution context is created and what is stored in it.

* Describe the functions of the call stack and the callback queue.

* Compare and contrast a stack vs a queue in terms of LIFO and FIFO.

* Summarize asynchronous behavior and the role of the event loop.

## Slide Deck

* [Unit 17 Slide Deck](https://docs.google.com/presentation/d/1oK8WB9pt8GfraNTsWbPNWMFpBYzXe_URem6Ch3oq9eo/edit#slide=id.g406a798aef_2_23)

## Time Tracker

| Start  | #   | Activity Name                                  | Duration |
|---     |---  |---                                             |---       |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity                 | 0:10     |
| 6:40PM | 2   | Instructor Demo: Global Execution Context      | 0:05     |
| 6:45PM | 3   | Student Do: Global Execution Context           | 0:15     |
| 7:00PM | 4   | Instructor Review: Global Execution Context    | 0:10     |
| 7:10PM | 5   | Instructor Demo: Functional Execution Context  | 0:05     |
| 7:15PM | 6   | Student Do: Functional Execution Context       | 0:15     |
| 7:30PM | 7   | Instructor Review: Functional Execution Context| 0:10     |
| 7:40PM | 8   | Instructor Demo: Stacks                        | 0:05     |
| 7:45PM | 9   | Student Do: Stacks                             | 0:15     |
| 8:00PM | 10  | BREAK                                          | 0:15     |
| 8:15PM | 11  | Instructor Review: Stacks                      | 0:10     |
| 8:25PM | 12  | Instructor Demo: Queues                        | 0:05     |
| 8:30PM | 13  | Student Do: Queues                             | 0:15     |
| 8:45PM | 14  | Instructor Review: Queues                      | 0:10     |
| 8:55PM | 15  | Instructor Demo: Callback Queue                | 0:05     |
| 9:00PM | 16  | Student Do: Callback Queue                     | 0:15     |
| 9:15PM | 17  | Instructor Review: Callback Queue              | 0:15     |
| 9:30PM | 18  | END                                            | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Open the [slide deck](https://docs.google.com/presentation/d/1oK8WB9pt8GfraNTsWbPNWMFpBYzXe_URem6Ch3oq9eo/edit#slide=id.g406a798aef_2_23) and follow these prompts on their corresponding slides:

  * **Computer Science in JS**:

    * Formally known as the study of computers and computational systems. 
    
    * The study of design, development, and analysis of software systems.

    * The art of telling a computer what to do through a set of instructions.

  * **How will understanding Computer Science make us better programmers?**: 

    * Understanding what a program is comprised of will inform us how to design the software more efficiently.
    
    * Discovering how a program executes can tell us how to avoid performance issues.
    
    * Computational thinking refers to the formulation of a solution using logic, patterns, and problem solving methods

  
  * **What are the concepts we will learn in Computer Science?**: 

    * We will learn about some data structures and how some are implemented in JavaScript.

    * We will learn about algorithms and how to gauge their performance.

    * We will give the computer a set of commands with JavaScript.


  * **Why is Computer Science a common category of questions for technical interviews?** 

    * Understanding the fundamentals Computer Science can show comprehension of how a program functions and how to make it faster and more efficient.

    * Many candidates are also computer science graduates.

    * Comprehending the use cases of data structures and the algorithms that manipulate them will create more performant applications.
  
  * **Mini-Project**: A mock interview to practice technical communication and problem solving in a live setting.

* Navigate to `28-Stu_Mini-Project/README.md` in your IDE and demonstrate the following:

  * Although we may know how to write code, we also need to learn how to explain our code verbally in an interview. 
  
  * This will demonstrate to an interviewer how we solve problems in a logical and iterative manner.

  * This will also display our ability to communicate technical concepts in clearly and concisely.

  * In this mini-project, you'll practice interviewing with one another while learning how to implement sorting algorithms.

  * Each of the students will take turns as the candidate and as the interviewer to help prepare for a technical interview.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What are we learning?

  * üôã How to communicate technical concepts in a clear and concise manner.

  * ‚òùÔ∏è How does interview practice build off or extend previously learned material?

  * üôã Just knowing the material isn't enough for technical interviews. By practicing technical communication, we will improve our ability to show off what we have learned.

  * ‚òùÔ∏è How does this project relate to your career goals?

  * üôã Just knowing how to code is not enough to pass most technical interviews. Learning soft skills such as communication is a key factor in most hires.

* Answer any questions before proceeding to the next activity.

### 2. Instructor Demo: Global Execution Context (5 min) 

* Open `01-Ins_Global-Execution-Context/index.html` in your browser and demonstrate the following:

  * üîë When the program runs, the `main()` function is placed onto the call stack and a global execution context is created.
  
  * The `main()` function is a reference to the program that is running. `main()` is removed off the call stack once the program has concluded its execution.

  * üîë Follow the comment prompts, following the thread of execution in sequence, describing how each statement is processed.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is a Web API?

  * üôã A library of methods and properties located on the `window` object which is associated with the browser.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `02-Stu_Global-Execution-Context/README.md`.

### 3. Student Do: Global Execution Context (15 min) 

* Direct students to the activity instructions found in `02-Stu_Global-Execution-Context/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üìê Add Comments to the Code Execution Process

Work with a partner to add comments describing the functionality of the code found in [Unsolved](./Unsolved).

## üìù Note(s)

Refer to the documentation: 

* [The event loop.](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop)

* Due to the visual quality of this exercise, it may be helpful to sketch the execution context and the allocation of variables.

---

## üèÜ Bonus

* If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

  * What is the scope chain? 

* Use [Google](https://www.google.com) or another search engine to research the above.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review:  Global Execution Context (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with execution context? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è call stack & callback queue

  * ‚úîÔ∏è Web APIs

  * ‚úîÔ∏è execution context

* Open `02-Stu_Global-Execution-Context/Solved/assets/js/script.js` in your IDE and explain the following: 

  1. üîë The variable `carNoise` is stored in the global execution context and is assigned the value 'Honk'.
  
  2. The function definition `goFast` is also stored in the global execution context and is assigned the function definition.
  
  3. üîë A conditional statement evaluates the `confirm()` to execute `goFast()`.  Since `confirm()` is a Web API, once it has resolved, the function `goFast()` is then placed on the callback queue, then is allowed to get pushed onto the call stack to be executed by the event loop.
  
  4. üîë When `goFast()` is invoked, the argument of the function is assigned to the parameter, `speed`, in the functional execution context of `goFast`.

  5. `makeNoise` is stored in the function execution context of `goFast`.

  6. üîë Invoking `makeNoise()` places the function on the call stack. Once executed, a new functional execution context is created for `makeNoise`.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What happens to the functional execution context once a function has executed?

  * üôã Once the function has completed execution, the functional execution context is removed from the program's memory, no longer storing the associated local variables or function definitions, as part of a memory clean up process.

  * ‚òùÔ∏è What are some of the benefits of having variables that are locally scoped?

  * üôã Enables duplicate variable names without conflict in an application, privatization of variables, abstraction of code, and reduces pollution of the global namespace.

  * ‚òùÔ∏è What can we do if we don't completely understand this?
  
  * We can refer to supplemental material, read [MDN's documentation regarding the keyword `this`, global context, and function context](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this), and stick around for Office Hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: Functional Execution Context (5 min) 

* Open `03-Ins_Functional-Execution-Context/assets/js/script.js` in your IDE and demonstrate the following:

  * üîë Keyword `this` in the global execution context refers to the `window` in the browser.
  
  * üîë In a functional execution context, the value of `this` depends on how the function was called.

* Open `03-Ins_Functional-Execution-Context/index.html` in your browser, open the console, and demonstrate the following:

  * When calling a method of an object, `this` refers to the object it was called from.
  
  * üîë Functional execution context includes a reference to how the function was called to assign `this`.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What happens to `this` if we refactor `myFuncB` to use an arrow function?

  * üôã `this` retains the reference to `window`.

  * ‚òùÔ∏è Why is this important to know?

  * üôã Questions regarding `this` are popular technical interview questions.

  * ‚òùÔ∏è What happens to the value of `this` in `myFuncA` if we add `use strict`?

  * üôã `this` becomes `undefined` in the `myFuncA` since it was not assigned.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `04-Stu_Functional-Execution-Context/README.md`.

### 6. Student Do: Functional Execution Context (15 min) 

* Direct students to the activity instructions found in `04-Stu_Functional-Execution-Context/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üêõ The tests fail due to ReferenceError

Work with a partner to resolve the following issue:

* The unit tests for the function do not pass.

## Expected Behavior

* When we run the unit test, the defined test should pass.

## Actual Behavior

* When we run our unit tests, the defined tests don't pass.

## Steps to Reproduce the Problem

1. From the [Unsolved](./Unsolved) directory, run `npm install` in the command line.

2. Run `npm test` from the command line to run the unit test.

3. The tests defined in the `__tests__` directory does not pass.

---

## üí° Hint(s)

* How can the unit test descriptions help us determine what the function is or isn't doing?

## üèÜ Bonus

* If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

  * What does the keyword `this` reference in Node.js for the global context?

* Use [Google](https://www.google.com) or another search engine to research the above.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Functional Execution Context (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with functional execution context`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è functional execution context lifecycle

  * ‚úîÔ∏è return statement

  * ‚úîÔ∏è private variables

* Open `04-Stu_Functional-Execution-Context/Solved/index.js` in your IDE and explain the following: 

  * üîë The variables, `total` and `i`, declared in the inner function, `sum()`. Therefore neither variable can be accessed in the scope of the outer function, `arg()` and can be considered private variables.
  
  *  This was the cause of the error which failed the tests. 

  ```js
  function sum() {
    let total = 0;
    for(let i = 0; i < array.length; i++) {
      total += array[i];
    }
  }
  ```

  * üîë By adding the statement, `return total`, to the inner function, `sum()`, we explicitly end the function's execution, remove the function execution context, pop `sum()` off the call stack, and assign the value of `total` to the where `sum()` was called.

  ```js
  function sum() {
    let total = 0;
    for(let i = 0; i < array.length; i++) {
      total += array[i];
    }

    return total;
  }
  ```
  
  * Calling `sum()` in the outer function executes the inner function which returns the sum of the numbers in the array. 

  ```js
  function avg(array) {
    function sum() {
      let total = 0;
      for(let i = 0; i < array.length; i++) {
        total += array[i];
      }
      // total is accessible in the sum()'s execution context
      return total;
    }
    // value of total is returned to where sum() is invoked
    return sum()/array.length;
  }
  ```

  * Navigate to `04-Stu_Functional-Execution-Context/Solved` in the terminal and execute the following commands:
  
  ```bash
  npm install; npm test;
  ```

  * Demonstrate that all the tests are passing.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Why would we want to have private variables?

  * üôã Allows variables to have duplicate names without conflicts in a program, eliminates accidental data modifications due to pollution of the global namespace, abstracts logic to single concerns, and adds security by eliminating availability to variables.

  * ‚òùÔ∏è What happens to the functional execution context of a function once that function has finished executing?

  * üôã The functional execution context of a function is destroyed once the function finishes executing.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN web docs for function context](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this#Function_context), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Stacks (5 min) 

* Navigate to `05-Ins_Stacks` in your terminal and execute the following command:

```bash
npm install; npm test;
```

* Open `05-Ins_Stacks/__tests__/index.test.js` in your IDE to demonstrate the following:
  
  * The test descriptions give you clues on how to implement a stack, a type of data structure:
    
    * `container` is the name of the initialized variable. What is the data type?

    * The names and functionality are described for both methods. 

  * The third test description tells us we can add an item to the back of the array.

  * The fourth test description tells us we can remove an item from the back of the array.

* Navigate to `05-Ins_Stacks` in the terminal and execute the following command:

  ```bash
  npm install; npm test;
  ```

  * The response in the console reveals all four tests are passing.  
   
  * Remind students not to change or modify any of the tests.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Does anyone know why a stack's operations are considered last in first out or LIFO?

  * üôã The latest item to be added to a stack is also first one to be removed. 

  * ‚òùÔ∏è Why are we learning this?

  * üôã Data structures store data and are fundamental components in computer science. Data structures commonly appear on technical interview questions so understanding the basic ones such as a stack is important.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `06-Stu_Stacks/Unsolved/README.md`.

### 9. Student Do: Stacks (15 min) 

* Direct students to the activity instructions found in `06-Stu_Stacks/Unsolved/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # üèóÔ∏è Implement a Stack using a Class

  Work with a partner to implement the following user story:

  * As a developer, I want to create a class that implements a stack data structure so that I can effectively communicate LIFO to a potential interviewer.

  ## Acceptance Criteria

  * It's done when we run the tests for the Stack class and the defined tests pass.

  ---

  ## üí° Hint(s)

  * What array methods can be used to implement a stack?

  * What do the unit test descriptions tell us about what methods we need?

  ## üèÜ Bonus

  If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

    * What are some other data structures? Think about what their use cases would be.

  * Use [Google](https://www.google.com) or another search engine to research the above.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: Stacks (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with stacks? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è LIFO

  * ‚úîÔ∏è `push`/`pop` methods

* Open `06-Stu_Stacks/Solved/index.js` in your IDE and explain the following: 

  * üîë We use a constructor to create a container to store the data. We assign the default value as an empty array.

    ```js
    class Stack {
    constructor(container = []) {
      this.container = container;
    }
    ```

  * üîë Add the method, `addToStack`, to add an element at the back of the array using the array method `push`. We use a parameter to add the element.

    ```js
    addToStack(el) {
      return this.container.push(el);
    }
    ```

  * üîë Add the method, `removeFromStack`, to remove an element from the back of the array using the array method `pop`.

    ```js
    removeFromStack()) {
      return this.container.pop();
    }
    ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is a real world situation that replicates the operations in a stack?

  * üôã A stack of books, cafeteria trays, Pez dispensers, or chapstick.

  * ‚òùÔ∏è What is a use case for a stack in programing?

  * üôã In a string or array, we can use a stack to reverse order, check for symmetry, or check for equality.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [documentation on data structures in Wikipedia](https://en.wikipedia.org/wiki/Data_structure), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: Queues (5 min) 

* Navigate to `07-Ins_Queues` in your terminal and execute the following command:

```bash
npm install; npm test;
```

* All four tests are currently passing.

* Open `07-Ins_Queues/__tests__/index.test.js` in your IDE to demonstrate the following:

  * The test descriptions give you clues on how to implement a queue, a type of data structure:
    
    * `container` is the name of the initialized variable. 

    * The names and functionality are described for both methods. 

  * The third test description tells us we can add an item to the **back** of the array.

  * The fourth test description tells us we can remove an item from the **front** of the array.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How is this data structure different than a stack?

  * üôã Stacks only add and remove elements from one side of the structure where queues add from one side and remove from the other.

  * ‚òùÔ∏è Why are a stacks's operations considered last-in-first-out or LIFO?

  * üôã The last item to be added is the first item to be removed.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `08-Stu_Queues/Unsolved/README.md`.

### 13. Student Do: Queues (15 min)

* Direct students to the activity instructions found in `08-Stu_Queues/Unsolved/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üèóÔ∏è Implement a Queue using a Class

Work with a partner to implement the following user story:

* As a developer, I want to create a class that implements a queue data structure so that I can effectively communicate FIFO to a potential interviewer.

## Acceptance Criteria

* It's done when we run our tests for the Queue class and the defined tests pass.

---

## üí° Hint(s)

* What array methods can be used to implement a queue?

* What do the unit test descriptions tell us about what methods we need?

## üèÜ Bonus

If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

  * What are good uses cases for a queue in programming?

* Use [Google](https://www.google.com) or another search engine to research the above.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 14. Instructor Review: Queues (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with queues? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è FIFO

  * ‚úîÔ∏è `push`/`shift` methods

* Open `08-Stu_Queues/Unsolved/index.js` in your IDE and explain the following: 

  * üîë We initialize the Stack class with a container to store the data. This was set at default value as an empty array.

    ```js
    class Queue {
    constructor(container = []) {
      this.container = container;
    }
    ```

  * üîë Add the method, `addToQueue`, to add an element at the back of the array using the array method `push`.

    ```js
    addToQueue(el) {
      return this.container.push(el);
    }
    ```

  * üîë Add the method, `removeFromQueue`, to remove an element from the front of the array using the array method `shift`.

    ```js
    removeFromQueue() {
      return this.container.shift();
    }
    ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Can someone name a real world situation that replicates the operations in a queue?

  * üôã Grocery store line, on-ramp for the freeway, or getting on/off public transportation

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [documentation on data structures in Wikipedia](https://en.wikipedia.org/wiki/Data_structure), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: Callback Queue (5 min) 

* Run `09-Ins_Callback-Queue/index.js` from the command line and demonstrate the following: 

  * üîë The sequence of the logs is altered due to the `setTimeout`.

  * Even when a timer set to zero, the log sequence is still affected due to the event loop and callback queue.
  
  * üîë The timer only guarantees a minimum amount of accounted time, not when the callback will execute.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is causing the delay for the statement "Are you listening?" since the timer is set to zero?

  * üôã Since `setTimeout` is a Web API, once the timer resolves, the callback function is first placed in the callback queue which must wait for the event loop to then check for an idle call stack before allowing the statement to get pushed onto the stack so it can be executed.
  
  * ‚òùÔ∏è How is asynchronous behavior advantageous when needing to process time sensitive operations like network requests? 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `10-Stu_Callback-Queue/README.md`.

### 16. Student Do: Callback Queue (15 min) 

* Direct students to the activity instructions found in `10-Stu_Callback-Queue/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üêõ User Interaction with Application is Blocked on Page Load

Work with a partner to resolve the following issue:

* User interactivity with the application is blocked on page load.

## Expected Behavior

* When the page loads, a user can interact with the page.

## Actual Behavior

* When the page loads, a user is blocked from interacting with the page.

## Steps to Reproduce the Problem

1. Open the `index.html` file in the browser.

2. An extended length of time in needed to load the page.

---

## üí° Hint(s)

* Does the callback function in a `setTimeout` go straight to the call stack when the timer is set to zero?

## üèÜ Bonus

* If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

  * How is async behavior in Node.js beneficial?

* Use [Google](https://www.google.com) or another search engine to research the above.

```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 17. Instructor Review: Callback Queue (15 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with callback queue? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è Node.js vs Browser 

  * ‚úîÔ∏è Asynchronous Behavior

* Open `10-Stu_Callback-Queues/Solved/assets/js/script.js` in your IDE and explain the following: 

  * üîë We can leverage the asynchronous behavior of JavaScript by placing the `block` function in a `setTimeout`.

    ```js
    setTimeout(() => {
      block(8000);
    }, 8000);
    ```

  * Delaying the `block` function by eight seconds allows the page to render and time for the user to interact with the UI.
  
  * Node.js and the Browser work similarly in the way they handle asynchronous behavior.

  * Best practice is to send processes that hog resources to the server to free up the call stack on the client to handle the UI.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is the role of the event loop in asynchronous behavior in JavaScript?

  * üôã The event loop pushes callback functions onto the call stack from the callback queue when the call stack is empty or idle.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN web docs on the event loop](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop#Event_loop), and stick around for office hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
¬© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
