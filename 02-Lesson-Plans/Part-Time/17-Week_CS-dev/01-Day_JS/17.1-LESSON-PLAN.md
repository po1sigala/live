# 17.1 Part-Time Lesson Plan: JavaScript Execution

## Overview 

In today's class, students will be re-introduced to JavaScript. They will breakdown how JavaScript executes an application so they can understand how the different components work together to run a program. Students will use the browser to understand the role of Web APIs and asynchronous behavior.

## Instructor Notes

* In this lesson, students will complete activities `01-Ins_Global-Execution-Context` through `10-Stu_Callback-Queues`.

* You will be using `jest` to test some of the activities. Be sure to familiarize yourself with the tests.

* TLDR: Students may need some time to adjust back into a testing environment. Interpreting the test descriptions and error messages are key parts in solving some of the activities.

* The first activity, `01-Ins_Global-Execution-Context`, steps through the execution process of JavaScript in the browser. This is an effort to peak behind the curtain to see which components of JavaScript are used to execute different parts of a program.

* Students may get hung up over the difference between scope and context. Scope refers to the accessibility of variables. Context refers to the object to which the function belongs. [Scope vs Context](https://blog.kevinchisholm.com/javascript/difference-between-scope-and-context/)

* Activities `04-Stu_Functional-Execution-Context` through `08-Stu_Queues` have test suites. Much of the instruction on how to pass the tests will be described in each unit test. The tests are not to be modified. Each of these are Node activities, so will need their packages installed before running the tests. A `jest --watch` script has been used to simplify running tests.

* The last activity of the day, `10-Stu_Callback-Queues`, uses a while loop to create a blocking process, making the page unresponsive and slow to load. Students may need to refresh their browsers or select the Block button to demonstrate the blocking effect. The point of this activity is to delay this blocking process so the page can render quickly to improve the UX.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code.

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

By the end of class, students will be able to:

* Explain the difference between a global execution context and a function execution context.

* Identify when a function execution context is created and what is stored in it.

* Describe the functions of the call stack and the callback queue.

* Compare and contrast a stack vs a queue in terms of LIFO and FIFO.

* Summarize asynchronous behavior and the role of the event loop.

## Slide Deck

* @TODO [Unit XX Slide Deck]()

## Time Tracker
@TODO ADD ACTIVITY TITLES for Instructor Demo, Student Do, and Instructor Review
| Start  | #   | Activity Name                       | Duration |
|---     |---  |---                                  |---       |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity      | 0:10     |
| 6:40PM | 2   | Instructor Demo:                    | 0:05     |
| 6:45PM | 3   | Student Do:                         | 0:15     |
| 7:00PM | 4   | Instructor Review:                  | 0:10     |
| 7:10PM | 5   | Instructor Demo:                    | 0:05     |
| 7:15PM | 6   | Student Do:                         | 0:15     |
| 7:30PM | 7   | Instructor Review:                  | 0:10     |
| 7:40PM | 8   | Instructor Demo:                    | 0:05     |
| 7:45PM | 9   | Student Do:                         | 0:15     |
| 8:00PM | 10  | BREAK                               | 0:15     |
| 8:15PM | 11  | Instructor Review:                  | 0:10     |
| 8:25PM | 12  | Instructor Demo:                    | 0:05     |
| 8:30PM | 13  | Student Do:                         | 0:15     |
| 8:45PM | 14  | Instructor Review:                  | 0:10     |
| 8:55PM | 15  | Instructor Demo:                    | 0:05     |
| 9:00PM | 16  | Student Do:                         | 0:15     |
| 9:15PM | 17  | Instructor Review:                  | 0:15     |
| 9:30PM | 18  | END                                 | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Open the [slide deck]() and follow these prompts on their corresponding slides:

  * **How JavaScript Works**: Breakdown the component parts of JavaScript used to execute a program and deal with its single threaded nature.

  * **@TODO TITLE OF SLIDE**: @TODO ELABORATE ON SLIDE CONTENT
  
  * **Mini-Project**: A mock interview to practice technical communication and problem solving.

<!-- * Navigate to `@TODO/folder/file` in your command line and demonstrate the following:

  * @TODO { WHAT ARE WE GOING TO BE BUILD? }

  * @TODO { ISN'T THIS NEAT! A SOPHISTICATED OR MODERN APPLICATION OF A KEY TOPIC. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What are we learning?

  * üôã Inner workings of JavaScript so that we can build more performant apps.

  * ‚òùÔ∏è How does this project build off or extend previously learned material?

  * üôã Inner workings of JavaScript so that we can build more performant apps.

  * ‚òùÔ∏è How does this project relate to your career goals?

  * üôã @TODO { HOW DO COMPANIES USE IT IN INTERESTING WAYS? HOW POPULAR OR IN-DEMAND IS IT? WHY IS THE PROJECT ENTICING TO EMPLOYERS? }

* Answer any questions before proceeding to the next activity. -->

### 2. Instructor Demo: Global Execution Context (5 min) 

* Open `01-Ins_Global-Execution-Context/index.html` in your browser and demonstrate the following:

  * üîë When the program runs, the `main()` program is placed onto the call stack and a global execution context is created.

  * üîë Follow the comment prompts, following the thread of execution in sequence, describing how each statement is processed.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is a Web API?

  * üôã A library of methods and properties located on the `window` object which is associated with the browser.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `02-Stu_Global-Execution-Context/README.md`.

### 3. Student Do: Global Execution Context (15 min) 

* Direct students to the activity instructions found in `02-Stu_Global-Execution-Context/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üìê Add Comments to the Code Execution Process

Work with a partner to add comments describing the functionality of the code found in [Unsolved](./Unsolved).

## üìù Note(s)

Refer to the documentation: 

* [The event loop.](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop)

* Due to the visual quality of this exercise, it may be helpful to sketch the execution context and the allocation of variables.

---

## üèÜ Bonus

* If you have fully completed the above tasks, here is something you and your partner can work through as an added challenge to further your knowledge:

  * What is the scope chain? 

* Use [Google](https://www.google.com) or another search engine to research the above.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review:  Global Execution Context (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `execution context`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è call stack & callback queue

  * ‚úîÔ∏è Web APIs

  * ‚úîÔ∏è execution context

* Open `02-Stu_Global-Execution-Context/Solved/assets/js/script.js` in your IDE and explain the following: 

  1. The variable `carNoise` is stored in the global execution context and is assigned the value 'Honk'.

  2. The function definition `goFast` is also stored in the global execution context and is assigned the function definition.

  3. A conditional statement based on the evaluation of the `confirm()`.  Since `confirm()` is a Web API, once it has resolved, the function `goFast()` is then placed on the callback queue until the call stack is empty

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? }

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 6. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

  ```
  @TODO ADD CODE SNIPPET, TABBED
  ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 9. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

  ```md
  @TODO ADD INSTRUCTIONS TABBED
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 13. Student Do: { ACTIVITY NAME } (15 min)

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS TABBED
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 14. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * üîë @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * üîë @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build this?

  * üôã @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 16. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 17. Instructor Review: { ACTIVITY NAME } (15 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è @TODO { THIS }

  * ‚úîÔ∏è @TODO { THAT }

  * ‚úîÔ∏è @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * üîë @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * üôã @TODO { YES, WE DO! }

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
@TODO ¬© YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
