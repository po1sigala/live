# 09.2 Part-Time Lesson Plan: Node.js

## Overview 

In this lesson, we will take a deeper dive into the world that is Node.js. We will explore how to take advantage of native modules that come built into Node.js itself. We will access the file system, pass command-line arguments into applications, get acquainted with Node Package Manager, and finally build CLI apps using a package called `inquirer`.

## Instructor Notes

* In this lesson, students will complete activities `11-Ins_process.argv` through `20-Stu_Inquirer`.

* Explain to students that npm works much like embedding a CDN link for a framework directly in the HTML, only we will download it into the project and store it in a folder called `node_modules`.

* At this point students should have both Node.js and npm installed. To ensure that npm is installed properly, instruct students to run `npm --version` at the command prompt. If this command returns anything other than a version number, tell students to request assistance from the TAs.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

By the end of class, students will be able to:

* Run Node.js applications from the command line with arguments.

* Import and use the native `fs` module to read and write to the file system.

* Initialize projects and install third-party modules like `inquirer` using npm.

* Use dependencies and investigate the content of `package.json`.


## Time Tracker

| Start  | #   | Activity Name                     | Duration |
| ------ | --- | --------------------------------- | -------- |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity    | 0:10     |
| 6:40PM | 2   | Instructor Demo: process.argv     | 0:05     |
| 6:45PM | 3   | Student Do: process.argv          | 0:15     |
| 7:00PM | 4   | Instructor Review: process.argv   | 0:10     |
| 7:10PM | 5   | Instructor Demo: Read/Write File  | 0:05     |
| 7:15PM | 6   | Student Do: Append File           | 0:15     |
| 7:30PM | 7   | Instructor Review: Append File    | 0:10     |
| 7:40PM | 8   | Instructor Demo: Modularization   | 0:05     |
| 7:45PM | 9   | Student Do: Modularization        | 0:15     |
| 8:00PM | 10  | BREAK                             | 0:15     |
| 8:15PM | 11  | Instructor Review: Modularization | 0:10     |
| 8:25PM | 12  | Instructor Demo: npm              | 0:05     |
| 8:30PM | 13  | Student Do: Package.json and npm  | 0:15     |
| 8:45PM | 14  | Instructor Review: npm            | 0:10     |
| 8:55PM | 15  | Instructor Demo: inquirer         | 0:05     |
| 9:00PM | 16  | Student Do: inquirer Users        | 0:15     |
| 9:15PM | 17  | Instructor Review: inquirer Users | 0:15     |
| 9:30PM | 18  | END                               | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What are some of the new syntax rules you have learned this week?

  * ğŸ™‹ This week we learned about arrow functions, `let`, `const`, and template strings.
    
  * â˜ï¸ What are some of the differences between `this` in Node.js and `this` in the browser?

  * ğŸ™‹ In the browser, `this` refers to the `window` object, while in Node.js, `this` refers to the `global` object. The `this` keyword is all about context, so it changes based on where you run it. 

  * â˜ï¸ What are some examples of things that are now possible with JavaScript running outside the browser?

  * ğŸ™‹ Running JavaScript outside the browser now allows us to create web servers, APIs, and command-line applications and manipulate the file system. A lot of applications that we use every day like Slack, Discord, and even VS Code are written in JavaScript and packaged in a binary using a framework called [Electron](https://www.electronjs.org/).

    * While we won't cover Electron in this course, it is important for students to understand the options that developers have now that they can run JavaScript outside of the browser.

### 2. Instructor Demo: process.argv (5 min) 

* Open `11-Ins_process.argv/index.js` in your terminal.

* Run `node index.js` from the command line and demonstrate the following: 

  * ğŸ”‘  When we run the following code at the command prompt, we see that the output is an array that contains three items:

    ```sh
    [
    '/usr/local/bin/node',
    '/Users/<username>/coding/fullstack-ground/01-Class-Content/09-NodeJS/01-Activities/11-Ins_process.argv/index.js'
    ]
    ```

  * ğŸ”‘  When we add additional arguments to the command `node index.js Hello World!`, we get the following result:

    ```sh
    [
    '/usr/local/bin/node',
    '/Users/<username>/coding/fullstack-ground/01-Class-Content/09-NodeJS/01-Activities/11-Ins_process.argv/index.js',
    'hello',
    'world!'
    ]
    ```

  * ğŸ”‘ We store command-line arguments in an object property, `process.argv`. These argument values (or `argv`) are passed to execution (or `process`) at runtime. This will return an array, and therefore we can isolate just the additional arguments by accessing the correct index position, as follows:

    ```js
    console.log(process.argv);
    console.log(process.argv[2])
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What is returned by this application?

  * ğŸ™‹ Running the application returns an array.

  * â˜ï¸ What are the items in the array?

  * ğŸ™‹ The first item in the array is the installation location of Node.js itself. The second item in the array is the **absolute path** to the application. The third and fourth arguments are what we pass into the command line, split on a space.
  
  * â˜ï¸ What do you think would happen if we wrapped "Hello World!" in quotes (e.g., `node index.js "Hello World!"`)?
  
  * ğŸ™‹The entire string is passed as one argument, rather than two different arguments split on the space.

  * â˜ï¸ What does it mean for us if we can pass arguments to Node.js applications?
  
  * ğŸ™‹ We can work with those values to create dynamic, interactive applications.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `12-Stu_Parameter-Check/README.md`.

### 3. Student Do: process.argv (15 min) 

* Direct students to the activity instructions found in `12-Stu_Parameter-Check/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # ğŸ—ï¸ Implement `process.argv`

  Work with a partner to implement the following user story:

  * As a developer, I want to use command line arguments as input when writing Node applications

  ## Acceptance Criteria

  * It's done when I have created a file, `index.js`, in the working directory.

  * It's done when I use `process.argv` to assign two arguments to variables.

  * It's done when I compare those two variables to see if they are the same or not.

  * It's done if the program returns `true` when the values are the same and `false` if they are not. 

  ## ğŸ’¡ Hints

  * How many different ways can you solve this problem? Remember that there is no one "correct" solution.

  ## ğŸ† Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * What is the difference between `===` and `==` when comparing two values in javascript?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: process.argv (10 min) 

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with `process.argv`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (ğŸ”‘) below to review the following key points:

  * âœ”ï¸ `process.argv`

* Open `12-Stu_Parameter-Check/Solved/index.js` in your IDE and explain the following: 

  * ğŸ”‘ Values stored in `process.argv` are accessed by an array index.

  * ğŸ”‘ This is one of those concepts where you have to remember that there is no one correct way to solve the problem.

  * When we run the app, we see a list of Boolean values. All of them are checking for the same condition, but each uses a different method, as shown in the following example:

    ```sh
    node index.js 3 4
    node index.js 7 7
    ```

  * ğŸ”‘  We store the second and third elements in the array to variables, as follows:

    ```js
    var a = process.argv[2];
    var b = process.argv[3];
    ```

  * ğŸ”‘ In the following example, we can see that there is more than one way to check if the statement is true:

    ```js
    // using a conditional statement
    if (a === b) {
        console.log(true);
    } else {
        console.log(false);
    }

    //using a ternary operator
    console.log(a === b ? true : false)

    // comparing variables
    console.log(a === b);

    // comparing argument values directly
    console.log(process.argv[2] === process.argv[3]);
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How could we improve the code for when a user fails to enter two arguments?

  * ğŸ™‹ We could check if `a` or `b` is falsy and instead console log a message with directions.

  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ We can refer to supplemental material, read the [Node.js documentation on process.argv](https://nodejs.org/api/process.html#process_process_argv), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: Read/Write File (5 min) 

* Open `13-Ins-Read-WriteFile/index.js` in your browser.

* Run `node index.js` from the command line and demonstrate the following: 

  * ğŸ”‘ When we run this application, we can see that the output is the content of the companion `.csv` file in the project folder, as shown in the following example:

    ```sh
    10,123,76,5003,9,0.127,40,-1,2^4
    ```

  * ğŸ”‘ This is made possible through the use of Node.js's native `fs` module. The `fs` module is part of the **standard library** that includes dozens of modules that extend the basic functionality of Node.js.

  * ğŸ”‘ To use these modules, we need to import them into the app using `require` statements. In the following example, we are importing `fs` and assigning it to a variable of the same name:

    ```js
    var fs = require("fs");
    ```

  * ğŸ”‘ The `fs` method `readFile` accepts three arguments&mdash;the file we want to read, the encoding format we want to use to read the file, and a callback, as shown in the following example:

    ```js
    fs.readFile("data.csv", "utf8", function(error, data) {

    if (error) {
        return console.log(error);
    }

    console.log(data);
    });
    ```

* Comment out the `readFile` function and comment in the `writeFile` function in `13-Ins-Read-WriteFile/index.js`.
  
  * ğŸ”‘ `fs.writeFile` will not only generate nonexistent files but will also overwrite them if they already exist.
  
  * ğŸ”‘ This code is similar, but different from the previous demo in a few key ways. Note in the following example that we don't start out with a `.txt` file in the working directory:

    ```js
    fs.writeFile("log.txt", process.argv[2], function(err) {

    if (err) {
        return console.log(err);
    }

    console.log("Success!");
    ```

 * ğŸ”‘  When we run the preceding code using `node index.js Hello`, we will get a newly created `log.txt` file with the text â€œHelloâ€ in it.

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What do you think this application does?

  * ğŸ™‹ This application will read a file (`data.csv`) and will log the results stored in a variable (`data`).

  * â˜ï¸ Why do you think we need to import modules if they are built into Node.js to begin with?

  * ğŸ™‹ We import modules into the application to load only exactly what we need, speeding up application performance. 
  
  * â˜ï¸ What is different about the code in the `writeFile` example?
  
  * ğŸ™‹ Rather than `readFile`, we are using the `fs` method `writeFile`. Rather than specifying an encoding format, the second argument is `process.argv[2]`.

  * â˜ï¸ What happens when we run the application multiple times?

  * ğŸ™‹ `writeFile` overwrites existing files.

  * â˜ï¸ How can we resolve this issue?

  * ğŸ™‹ We need a method that can append text to files.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `14-Stu_appendFile/README.md`.

### 6. Student Do: Append File (15 min) 

* Direct students to the activity instructions found in `14-Stu_appendFile/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # ğŸ—ï¸ Implement and Use `fs.appendFile()`

  Work with a partner to implement the following user story:

  * As a developer, I want to be able to add to a file without overwriting the existing content.

  ## Acceptance Criteria

  * It's done when I have created a `index.js` file that accepts a command line argument.

  * It's done when the program takes the input from the user and *appends* it to the file.

  * It's done after I have ran the program, passed in some text and confirmed that it appended the text to `log.txt`.

  ## ğŸ’¡ Hints

  * Going by naming convention alone, if `fs.readFile` reads a file and `fs.writeFile` writes to a file, what do you think the method for appending is?

  ## ğŸ† Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * How can you add text from additional arguments on a new line?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Append File (10 min) 

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel appending to files? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (ğŸ”‘) below to review the following key points:

  * âœ”ï¸ `fs.appendFile`

* Open `14-Stu_appendFile/Solved/index.js` in your IDE and explain the following: 

* ğŸ”‘ `appendFile` appends text to file rather than overwriting the file.
 
 * When we run the command-line application with the following code, we should see this text appended to the file in `14-Stu_appendFile/Solved/log.txt`:

    ```sh
      node index.js "first"
      node index.js "commit early and often"
      node index.js "everyone wants a log"
    ```

  * Now the application is adding text to the file rather than overwriting it.

  * ğŸ”‘  This application is very similar to the previous demo, but here we have refactored it to use `appendFile` rather than `writeFile`, as shown in the following code:

    ```js
    fs.appendFile("log.txt", process.argv[2] + '\n', function(err) {
        if (err) {
        console.log(err);
        } else {
        console.log("Commit logged!");
        }
    });
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What does the `\n` do when we concatenate it with the value store in `process.argv[2]`?
  
  * ğŸ™‹ This creates a new line character.
  
  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ We can refer to supplemental material, read the [Node.js documentation on the fs module](https://nodejs.org/api/fs.html#fs_fs_appendfile_path_data_options_callback), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Modularization (5 min) 

* Open the `15-Ins_Modularization` directory in your IDE.

* Run `node index.js` from the command line and demonstrate the following: 

  * ğŸ”‘ We see the following output of this file: 

    ```sh
    apple
    1
    ```

  * ğŸ”‘  We are importing a dependency, `badmath`, and logging the results of `badmath.pie` and `badmath.predictable`, as follows: 

    ```js
    var badmath = require("./badmath.js");

    console.log(badmath.pie);

    console.log(badmath.predictable());
    ```

* Open the `15-Ins_Modularization/badmath.js` file and explain the following:

  * We declare a `pie` and `predictable` variables, as follows:

    ```js
    var pie = "apple";

    var predictable = function(){
      return 1;
    }
    ```

  * ğŸ”‘ We export the `pie` and `predictable` variables as an object stored in `module.exports`, as shown in the following example:

    ```js
    module.exports = {
      pie: pie,
      predictable: predictable
    };
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What is referenced by the keyword `module`?

  * ğŸ™‹ The file `badmath.js`.

  * â˜ï¸ Where can we look t o learn more about `module.exports`?

  * ğŸ™‹ To learn more, we can read the [Node.js documentation on module.exports](https://nodejs.org/api/modules.html#modules_module_exports).

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `16-Stu_maths/README.md`.

### 9. Student Do: Modularization (15 min) 

* Direct students to the activity instructions found in `16-Stu_maths/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # ğŸ—ï¸ Implement and Use Modules

  Work with a partner to implement the following user story:

  * As a developer, I want to write and implement my own modules that have their own properties and methods. I also want to learn how to import those modules using Node.js.

  ## Acceptance Criteria

  * It's done when I have created two files, `index.js` and `maths.js`

  * It's done when I have imported `maths.js` into `index.js`.

  * It's done when I have written four methods for the results of the four basic mathematical operations in `maths.js` (`sum()`, `difference()`, `product()`, and `quotient()`)

  * It's done when I have created variables to capture the values passed from the command line: `operation`, `numOne` and `numTwo`.

  * It's done when I have written a `switch` statement that accepts an `operation` parameter.

  * It'd done when each `case` of the `switch` statement uses the corresponding `maths` methods to perform each math operation on the numbers.

  ## ğŸ’¡ Hints

  * What will the `parseInt()` method allow us to do?

  ## ğŸ† Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * How can you export functions and objects directly?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: Modularization (10 min) 

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with modularization? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (ğŸ”‘) below to review the following key points:

  * âœ”ï¸ `module.exports`

  * âœ”ï¸ `require(...)`

  * âœ”ï¸ `process.argv`

* Open `16-Stu_maths/Solved/index.js` in your IDE and explain the following: 

  * ğŸ”‘ This exercise combines the concepts of `process.argv` with the idea of `module.exports`.

  * ğŸ”‘ We exported an object containing all the math methods like `sum()`, `difference()`, `product()`, and `quotient()`.

  * We capture the exported object on the other side by using a `require` statement at the top of the file.

  * When we run the following commands, we can see the output of each math operation at the command prompt:

    ```sh
    node index.js sum 3 4
    node index.js difference 3 4
    node index.js product 3 4
    node index.js quotient 3 4
    ```

  * We import the `maths` module and declare three variables (`operation`, `numOne`, and `numTwo`) to store the values passed to `process.argv` from the command line, as follows:

    ```js
    const maths = require('./maths');

    const operation = process.argv[2];

    const numOne = parseInt(process.argv[3]);
    const numTwo = parseInt(process.argv[4]);
    ```

  * We use a `switch` statement to evaluate the `operation` case and call the corresponding method from the `maths` module, as shown in the following code:

    ```js
    switch (operation) {
        case 'sum':
            console.log(maths.sum(numOne, numTwo));
            break;
        case 'difference':
            console.log(maths.difference(numOne, numTwo));
            break;
        case 'product':
            console.log(maths.product(numOne, numTwo));
            break;
        case 'quotient':
            console.log(maths.quotient(numOne, numTwo));
            break;
        default:
            console.log('Check your maths!');
    }
    ```

  * ğŸ”‘  Open `16-Stu_maths/Solved/maths.js` and show that we export the methods directly by declaring them inside of the `exports` object, as follows:

    ```js
    module.exports = {
        sum: (a, b) => a + b,
        difference: (a, b) => a - b,
        product: (a, b) => a * b,
        quotient: (a, b) => a / b,
    };
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Why do we need to use `parseInt` when getting the numbers from the command line?

  * ğŸ™‹ To perform math operations in code, the data type for those numbers has to be a number.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: Node Package Manager (npm) (5 min) 

* Run `17-Ins-npm/npm/index.js` from the command line and demonstrate the following: 

  * ğŸ”‘  When we run this JavaScript file with Node.js, we will see an error message of `MODULE_NOT_FOUND`.

  * ğŸ”‘  We will also see the error message `Error: Cannot find module 'badmath'`, referring to the module we are attempting to import on line one of `index.js`, shown in the following example:

    ```js
    const badmath = require('badmath');
    ```

  * To resolve this issue, we would need to initialize npm inside this repository. This will create a `package.json` file that will keep track of which packages are needed to use the project properly. We can do this by running the following commands :

    ```sh
    npm init -y
    npm i badmath
    ```

  * ğŸ”‘ The `-y` flag tells npm to answer "yes" to each question it normally asks during the init process, to save us some time. 

  * The second command, `npm i`, is shorthand for `npm install`. These two commands can be used interchangeably. `npm i badmath` will reach out to npm's registry and install the latest version of the package you named after the command. In this case, you are installing `badmath`. 
 
* Open the `17-Ins-npm/init` folder to examine the additional file. 

  * ğŸ”‘  You will notice a difference immediately. This folder comes with a `package.json` file. This describes the repository itself as well as any scripts, dependencies, and licenses associated with the project.

  * ğŸ”‘  We can also see when we examine the content of the `package.json` file that one of the required dependencies is `badmath`, as shown in the following example:

    ```json
    "dependencies": {
        "badmath": "^1.0.1"
    },
    ```

  * Running `npm install` inside `17-Ins-npm/init` will instruct npm to examine the content of the `package.json` and install anything listed in the dependencies section.
  
  * ğŸ”‘ You will also notice a `package-lock.json` file that gets created. This keeps track of specific version numbers, but for the most part we don't need to interact with this file in any way.

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How would we make our own `package.json` file?

  * ğŸ™‹ We would run `npm init`.
  
  * â˜ï¸ What can we do if there is already a `package.json` in a project we have cloned?

  * ğŸ™‹ We can run `npm install` to get all the needed dependencies.
  
  * â˜ï¸ Where can we find out what other npm commands are available?

  * ğŸ™‹ We can review the [npm documentation on CLI commands](https://docs.npmjs.com/cli-documentation/).

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `18-Stu-Package-npm/README.md`.

### 13. Student Do: package.json and npm (15 min)

* Direct students to the activity instructions found in `18-Stu-Package-npm/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # ğŸ—ï¸ Initialize Projects using Node Package Manager (NPM)

  Work with a partner to implement the following user story:

  * As a developer, I want to be able to keep track of dependencies using `npm`. I also want to be able to save packages to my project using `npm install`.

  ## Acceptance Criteria

  * It's done when I have navigated to `/init` in the terminal and ran `npm init`.

  * It's done when I have responded to all the prompts regarding my project.

  * It's done when I have confirmed that I have a `package.json` in the `/init/` folder.

  * It's done after I have installed `inquirer` in the `/init` folder by running `npm i inquirer --save`.

  * It's done when I have navigated to `/package` in the terminal and ran `npm i`.

  ## ğŸ’¡ Hints

  * How does the `-y` save us some time when running `npm init`?
    
  * What does the `-g` flag do when running `npm install`? 

  ## ğŸ† Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * How would we create our own `package.json` files? 

  * How did `npm` know to install `inquirer` when we ran `npm i` in the `/package/` folder?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help.

### 14. Instructor Review: Node Package Manager (npm) (10 min) 

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with npm? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (ğŸ”‘) below to review the following key points:

  * âœ”ï¸ `npm init`

  * âœ”ï¸ `package.json`

  * âœ”ï¸ `npm install --save-dev`

* Open `18-Stu-Package-npm/init/README.md` in your IDE and explain the following: 

  * ğŸ”‘We start by running `npm init -y`, which will generate the `package.json` file. Optionally, we can run the command without the `-y` flag to allow for more custom responses, as shown in the following example:

    ```sh
    npm init -y
    npm install inquirer --save
    ```

  * ğŸ”‘  The second command will install `inquirer` and also add the package, `inquirer`, to the dependency list in `package.json`.
  
* Open `18-Stu-Package-npm/package/README.md` in your IDE and explain the following: 

  * This exercise has us simply run the `install` command, because as you can see, the `package.json` already exists for this project. Furthermore, this file contains `inquirer` as a dependency. See the following example:

    ```sh
    npm install
    ```

  * ğŸ”‘  Running `npm install` is a great first step with any project or exercise that you cloned down from another user or organization.

  * ğŸ”‘  Sometimes you want to install a package, but not as part of your production app. In this case, you can use `npm install jest --save-dev`.

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What does the `--save` flag do, and is it always necessary?

  * ğŸ™‹ The `--save` flag ensures that we add the dependency to the list outlined inside the `package.json`. Newer versions of npm will do this automatically, so it isn't always required.

  * â˜ï¸ How do we install a specific package?

  * ğŸ™‹ We can run `npm install <package name>`.
  
  * â˜ï¸ How do we create a `package.json` file and skip the questions?

  * ğŸ™‹ We can run `npm init -y`.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: inquirer (5 min) 

* Run `19-Ins_Inquirer-Demo/index.js` from the command line and demonstrate the following: 

  * ğŸ”‘ We can see a `package.json` that exists already, indicating that we should run the following command:

    ```sh
    npm install
    ```
  
  * ğŸ”‘ When we run `node index.js`, unlike previous Node.js applications that we have built, this one is not only outputting text to the terminal but is also asking us for some input, as shown in the following example:

    ```sh
    ? What is your user name?
    ? What is your password?
    ? Re-enter password to confirm:
    ```

  * ğŸ”‘ The application asks for a username, a password, and then a confirmation. If the passwords match, the application logs "Success!â€

* Open `19-Ins_Inquirer-Demo/index.js` and examine the code:
  
  * At the top of the file, we import `inquirer`, as follows:

    ```js
    var inquirer = require("inquirer");
    ```

  * ğŸ”‘  We use the `prompt` method to ask the user for input, as shown in the following example:

    ```js
    inquirer
        .prompt([
        {
            type: "input",
            message: "What is your user name?",
            name: "username"
        },
        {
            type: "password",
            message: "What is your password?",
            name: "password"
        },
        {
            type: "password",
            message: "Re-enter password to confirm:",
            name: "confirm"
        }
        ])
    ```

  * The prompts are an array of objects that have a `name`, `type`, and `message` property.
  
  * The input of each prompt will be stored in an `object` property that corresponds to the `name` value. The `type` values are built into `inquirer` and allow us to enter secure passwords.
  
  * The `message` property is the prompt that the user ends up seeing. 

  * Once all of the prompts are answered, we can then work with the user `response`. Here, the `response` parameter in the `.then` callback corresponds with the user input, which `inquirer` stores in an object, as follows:

    ```js
    .then((response) =>
        response.confirm === response.password
            ? console.log('Success!')
            : console.log('You forgot your password already?!'));
    ```

  * Here we are checking whether the confirmed password input is strictly equal to the password provided in the previous response. We then use a conditional (ternary) operator to check if the passwords match. If so, we log "success!"; otherwise, we let the user know they forgot their password.
 
* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Based on the name alone, what do you think the `inquirer` package allows us to do?

  * ğŸ™‹ It might be used to inquire, or ask for, information from someone&mdash;the user of the application. 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `20-Stu_Inquirer-Users/README.md`.

### 16. Student Do: inquirer Users (15 min) 

* Direct students to the activity instructions found in `20-Stu_Inquirer-Users/README.md`.

* Break your students into pairs that will work together on this activity.

  ```md
  # ğŸ—ï¸ Build CLI App with Inquirer

  Work with a partner to implement the following user story:

  * As a developer, I want to create command line applications that takes in input from the user and does something with it.

  ## Acceptance Criteria

  * It's done when I have initialized my repository with a `package.json` file by running `npm init -y`

  * It's done when I have installed inquirer and added it to my list of dependencies by running `npm i inquirer --save`

  * It's done when ask the user, "What is your name?"
    
  * It's done when ask the user, "What languages do you know?"

  * It's done when ask the user, â€œWhat is your preferred method of communication?"

  * It's done after I have written those responses to a file.

  ## ğŸ’¡ Hints

  * Why do we need to use `JSON.stringify`?

  * How can we use the npm page for inquirer to see how to use checkboxes and lists? 

  ## ğŸ† Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * How would you format your JSON? Can you generate the name of your user file from the user input?

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help.

### 17. Instructor Review: inquirer Users (15 min)

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with `inquirer`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (ğŸ”‘) below to review the following key points:

  * âœ”ï¸ `inquirer.prompt()`

  * âœ”ï¸ `JSON.stringify()`

  * âœ”ï¸ `.then(answers => `

* Open `20-Stu_Inquirer-Users/Solved/index.js` in your IDE and explain the following: 

  * ğŸ”‘ The application requires two dependencies, one third-party (`inquirer`) and the other standard library (`fs`), as shown in the following example:

    ```js
    const inquirer = require('inquirer');
    const fs = require('fs');
    ```

  * ğŸ”‘ We use two new `type` properties to prompt the user for a `"checkbox"` and a `"list"`, both of which require a `choices` property and a corresponding array of options, as shown in the following example:

    ```js
      inquirer.prompt([
        {
            type: "input",
            name: "name",
            message: "What is your name?"
        },
        {
            type: "checkbox",
            message: "What languages do you know?",
            name: "stack",
            choices: [
                "HTML", 
                "CSS", 
                "JavaScript", 
                "MySQL"
            ]
        },
        {
            type: "list",
            message: "What is your preferred method of communication?",
            name: "contact",
            choices: [
                "email",
                "phone",
                "telekinesis"
            ]
        }
    ])
    ```
  
  * We pass the output of the `prompt` method to the Promise callback as `data`, as follows:

    ```js
      .then((data) => {
        const filename = `${data.name.toLowerCase().split(' ').join('')}.json`;

        fs.writeFile(filename, JSON.stringify(data, null, '\t'), (err) =>
            err ? console.log(err) : console.log('Success!')
        );
    });
    ```

  * We are creating a file name by removing the spaces and setting all letters to lowercase. We then concat the file name using the `.join` method. Finally, we add `.json` to the file name.
  
  * ğŸ”‘ We use the `fs.writeFile` method to create a new file using the `filename` variable. We use the `JSON.stringify` optional `replacer` (`null`) and `space` (`\t`) parameters to format the `data` object with pretty-print appearance.

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Why do we need to use `JSON.stringify` when passing in the data?

  * ğŸ™‹ The data needs to be converted to a string because, as is, `data` is not of type `string`. To learn more, read the [MDN Web Docs on JSON.stringify()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).
  
  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ We can refer to supplemental material, read the [inquirer documentation](https://github.com/SBoudrias/Inquirer.js#readme), and stick around for office hours to ask for help.
  
* Answer any questions before ending the class.

### 18. END (0 min)

How did todayâ€™s lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---

Â© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
