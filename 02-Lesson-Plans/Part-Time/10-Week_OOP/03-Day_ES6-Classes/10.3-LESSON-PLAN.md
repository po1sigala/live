# 10.3 Part-Time Lesson Plan: Object-Oriented Programming (OOP)

## Overview 

Today's lesson will cover the basics of ES6 classes and how they can help you when organizing and writing code. This unit touches on three areas: implementing classes, utilizing subclasses, and managing multiple classes. Students will learn the benefits of OOP and learn how to apply many OOP practices in their code.

## Instructor Notes

* In this lesson, students will complete activities `21-Ins_Classes` through `28-Stu_Mini-Project`.

* Classes are a broad topic and as a result, it may be hard to remember a time when classes were unfamiliar to you. Review the [MDN Web Docs on Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes) before this class to focus on the most basic components.

* Today's lesson will rely heavily on ES6 classes. It is recommended that you spend some time getting familiar with classes, subclasses, and the `super()` method before class starts. 

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

* If the students struggle with the `Everyone Do: Git` activity, walk through it with the students using the talking points provided. Otherwise, support the students as they do the activity and do a brief review at the end. 

* In the next unit, students will start using Heroku. Advise the students to sign up for a Heroku account and have the Heroku CLI installed **before** the next unit. For students who need instructions on how to install the Heroku CLI, direct them to the [Heroku CLI installation guide on The Full-Stack Blog](https://coding-boot-camp.github.io/full-stack/heroku/how-to-install-the-heroku-cli).

## Learning Objectives

By the end of class, students will be able to:

* Implement classes to create new instances of objects.

* Extend basic classes with additional functionality. 

* Implement multiple classes with differing purposes to practice the OOP paradigm.
  
## Time Tracker

| Start   | #   | Activity Name                       | Duration |
| ------- | --- | ----------------------------------- | -------- |
| 10:00AM | 1   | Instructor Do: Stoke Curiosity      | 0:10     |
| 10:10AM | 2   | Instructor Demo: Classes            | 0:05     |
| 10:15AM | 3   | Student Do: Classes                 | 0:15     |
| 10:30AM | 4   | Instructor Review: Classes          | 0:10     |
| 10:40AM | 5   | Instructor Demo: Subclasses         | 0:05     |
| 10:45AM | 6   | Student Do: Subclasses              | 0:15     |
| 11:00AM | 7   | Instructor Review: Subclasses       | 0:10     |
| 11:10AM | 8   | Instructor Demo: Multiple Classes   | 0:05     |
| 11:15AM | 9   | Student Do: Multiple Classes        | 0:15     |
| 11:30AM | 10  | Instructor Review: Multiple Classes | 0:10     |
| 11:40AM | 11  | Everyone Do: Git Stash              | 0:20     |
| 12:00PM | 12  | BREAK                               | 0:40     |
| 12:40PM | 13  | Instructor Demo: Mini Project       | 0:05     |
| 12:45PM | 14  | Student Do: Mini Project            | 0:60     |
| 1:45PM  | 15  | Instructor Review: Mini Project     | 0:10     |
| 1:55PM  | 16  | Introduce Homework                  | 0:05     |
| 2:00PM  | 17  | END                                 | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Explain that we're going to revisit creating objects but with a different syntax.

* The language specification known as ES6 provides a new `class` syntax. The interesting thing about Javascript classes is that they don't actually provide any new functionality over constructor functions. They are what many developers describe as "syntactical sugar".

* Open the [MDN Web Docs on Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes) in your browser and explain the following:

  * Classes are written with the `class` and `constructor` keywords.

  ```js
  class Rectangle {
    constructor(height, width) {
      this.height = height;
      this.width = width;
    }
  }
  ```

  * However, `Rectangle` instances are still created with the `new` keyword just like they are with regular constructor functions.

  * This newer syntax mimics how classes are written in other programming languages.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What other programming languages do you know of that most likely use classes?

  * üôã Java, Python, C#, Ruby, etc.

  * ‚òùÔ∏è Why would JavaScript try to mimic these other languages?

  * üôã To make it easier for developers to work across languages. To provide familiarity. To move away from `prototype` syntax that can be confusing to understand and clunky to write.

  * ‚òùÔ∏è How would you write a `Rectangle` constructor function without using `class`?

  * üôã Create a function called `Rectangle()` that accepts two arguments.

* Answer any questions before moving on to the next activity.

### 2. Instructor Demo: Classes (5 min)

* Open `21-Ins_Classes/shape.js` in your IDE and explain the following:

  * üîë This is what an ES6 class declaration looks like. Unlike a constructor function, we do not declare the parameters of the new object at the top of the function. Instead, we use a function that is built in to classes called `constructor`.

  ```js
  class Shape {
    constructor(area, perimeter) {
      this.area = area;
      this.perimeter = perimeter;
    }
  }
  ```

  * üîë The syntax for class methods is different than that of any function we've seen before. Instead of using arrow functions or `.prototype`, the syntax looks very similar to the way we declare functions, just without the `function` keyword.
  
  ```js
  printInfo() {
    console.log(`Area: ${this.area}`);
    console.log(`Perimeter: ${this.perimeter}`);
  }
  ```

  * Although we are now using classes in JavaScript, this does not mean that JavaScript has classical inheritance like some other programming languages. Fundamentally, JavaScript still works the same. Inheritance still happens using prototypes. The `class` syntax merely serves as **syntactical sugar** to make developers' lives easier.

  * Much like constructor functions, we instantiate objects the same way we did with constructor functions.

  ```js
  const shape = new Shape(25, 25);
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is the value of `this` within the `printInfo` method?

  * üôã `this` is equal to the instance of the object that is created with the `new` keyword. 

  * ‚òùÔ∏è How would we build something like this?

  * üôã We could look up more information on how to properly use the ES6 class syntax

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `22-Stu_Classes/README.md`.

### 3. Student Do: Classes (15 min)

* Direct students to the activity instructions found in `22-Stu_Classes/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üèóÔ∏è Write and Implement Classes

Work with a partner to implement the following user story:

* As a user, I want a command line RPG that allows two characters to battle each other.

## Acceptance Criteria

* It's done when a new `Character` can be created with the following properties:

  * `name` - a string containing the character's name

  * `strength` - a number indicating how much damage the character's attacks will inflict

  * `hitPoints` - a number that indicates how many hit points the character has

* It's done when each `Character` has the following methods:

  * `printStats()` that logs the character's name, strength and hitpoints

  console.log(`Stats for ${this.name} are:\n`)
  console.log(`Each attack will do ${this.strength} damage`)
  console.log(`${this.name} has ${this.hitPoints} hit points remaining`)

  * `isAlive()` that returns a boolean based on whether or not a character's "hitpoints" are <= 0

  * `attack()` that accepts an opposing `Character` object and subtracts the current character's `strength` from the opponent's `hitPoints`

* It's done when I can run `node character.js` and see two instances of `Character` battle until one of them is defeated.

## üí° Hints

* How can we start small? Can we benefit from first trying to make one character attack another until the game is over?

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * How can we add validation to ensure that each character is provided the proper 3 arguments when created?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: Classes (10 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with ES6 classes? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `constructor()`

  * ‚úîÔ∏è `this`

  * ‚úîÔ∏è Method syntax

* Open `22-Stu_Classes/Solved/character.js` in your IDE and explain the following: 

  * üîë The `Character` class includes a `constructor()` that accepts three arguments.

  ```js
  class Character {
    constructor(name, strength, hitPoints) {
      this.name = name;
      this.strength = strength;
      this.hitPoints = hitPoints;
    }
  }
  ```

  * üîë The `printStats()` method uses `this` to reference the current character's properties.

  ```js
  printStats() {
    console.log(`Stats for ${this.name} are as following:`);
    console.log(`Each attack will do ${this.strength} damage.`);
    console.log(`${this.name} has ${this.hitPoints} hit points remaining!`);
    console.log("------------");
  }
  ```

  * üîë The `isAlive()` method returns `false` if `this.hitPoints` is less than zero.

  ```js
  isAlive() {
    if (this.hitPoints <= 0) {
      console.log(`${this.name} has been defeated!`)
      return false;
    }
    return true;
  };
  ```

  * The `attack()` method updates the object being passed in as the argument.

  ```js
  attack(opponent) {
    console.log(`${this.name} hit ${opponent.name} for ${this.strength}`)
    opponent.hitPoints -= this.strength;
  };
  ```

  * We use the `new` keyword to create two new `Character` instances.

  ```js
  const grace = new Character("Grace", 30, 75);
  const dijkstra = new Character("Dijkstra", 20, 105);
  ```

  * We use a `setInterval()` to run a game loop, using the `graceTurn` variable to swap who should attack first each time.

  ```js
  let graceTurn = true;

  const turnInterval = setInterval(() => {
    if(!grace.isAlive() || !dijkstra.isAlive()) {
      clearInterval(turnInterval);
      console.log("Game over!");
    } else if(graceTurn) {
      grace.attack(dijkstra);
      dijkstra.printStats();
    } else {
      dijkstra.attack(grace);
      grace.printStats();
    }
    
    graceTurn = !graceTurn;
  }, 2000);
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è On a technical level, how are these classes behaving differently than constructor functions?

  * üôã They aren't; classes are just syntactical sugar for constructors.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: Subclasses (5 min)

* Open `23-Ins_Subclasses/shape.js` in your IDE and demonstrate the following:

  * Our `printInfo()` method will print each key in the newly constructed shape.
  
  ```js
  printInfo() {
    console.log(`Area: ${this.area}`);
    console.log(`Perimeter: ${this.perimeter}`);
  }
  ```

  * We set `module.exports` equal to our `Shape` class so that we can `require` it outside of this file.

  ```js
  module.exports = Shape;
  ```

* Open `23-Ins_Subclasses/rectangle.js` in your IDE and explain the following:

  * We import `Shape` from `shape.js`.

  ```js
  const Shape = require('./shape');
  ```

  * üîë We use the `extends` keyword to specify that the `Rectangle` class should inherit properties and methods from the `Shape` class.

  ```js
  class Rectangle extends Shape {

  }
  ```
  
  * In Javascript, the `super` method can be used inside the constructor to call the parent's constructor method and gain access to the parent's properties and methods. 

  * üîë In the `constructor()`, we calculate the area and perimeter and pass them into the `super()` function. `super()` will call the constructor on the parent class, `Shape` and make use of `area` and `perimeter`.
  
  ```js
  constructor(sideA, sideB) {
    const area = sideA * sideB;
    const perimeter = sideA * 2 + sideB * 2;

    super(area, perimeter);
  }
  ```

  * üîë Only after calling `super()` are we allowed to use `this` to define properties unique to the `Rectangle` shape.

  ```js
  this.sideA = sideA;
  this.sideB = sideB;
  ```

  * Because `Rectangle` inherits from `Shape`, we can access the `printInfo()` method from the parent class.

  ```js
  const rectangle = new Rectangle(12, 9);
  rectangle.printInfo();
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is the benefit of inheriting, or extending, classes?

  * üôã We can DRY up code by moving common methods and properties to a parent class.

  * ‚òùÔ∏è How would we build something this?

  * üôã We could refer to this example or we can use external resources like MDN to find some examples of class inheritance.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `24-Stu_Subclasses/README.md`.

### 6. Student Do: Subclasses (15 min) 

* Direct students to the activity instructions found in `24-Stu_Subclasses/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üìñ Implement Subclasses

Work with a partner to implement the following user story:

* As a developer, I want to extend basic vehicle classes with additional functionality. 

## Acceptance Criteria

* It's done when I have created a `Car` class that extends the `Vehicle` class with these features:

  * Inherits `id`, `numberOfWheels`, and `sound` from the `Vehicle` class. Set the `numberOfWheels` as `4` and the `sound` as `beep`.

  * A `color` property

  * A `passengers` property, which will hold an array of strings

  * A `useHorn()` method that prints the car's sound to the console.

  * A `checkPassengers()` method that checks to see if there are less than 4 passengers. 
  
    * If there are, print a message of how much room you have left in the car in the console.
    
    * Otherwise, print "This car only seats 4 people. You have too many passengers!" in the console.

* It's done when I have created a `Boat` class that extends the `Vehicle` class with these features:

  * Inherits `id`, `numberOfWheels`, and `sound` from the `Vehicle` class. Set the `numberOfWheels` as `0` and the `sound` as `bwom`.

  * A `type` property

  * A `crew` property, which will hold an array of strings

  * A `useHorn()` method that prints the boat's sound to the console.

  * A `crewSoundOff()` method that prints each member of the crew "reporting for duty!" to the console.
  
## üìù Notes

Refer to the documentation: 

[MDN Web Docs on extends](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends)

---

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* How can we add additional methods to the `Boat` class after it has been created?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Subclasses (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with subclasses? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `extends`

  * ‚úîÔ∏è `super()`

  * ‚úîÔ∏è class methods

* Open `24-Stu_Subclasses/Solved/vehicle.js` in your IDE and explain the following: 

  * The `Vehicle` class is a good spot for us to keep a lot of the information that is shared between different types of vehicles. Note the different properties and the `printInfo()` method.

  ```js
  class Vehicle {
    constructor(id, numberOfWheels, sound) {
      this.id = id;
      this.numberOfWheels = numberOfWheels;
      this.sound = sound;
    }

    printInfo() {
      console.log(`This vehicle has ${this.numberOfWheels} wheels`);
      console.log(`This vehicle has an id of ${this.id}`);
    }
  }
  ```

* Open `24-Stu_Subclasses/Solved/car.js` in your IDE and explain the following:

  * üîë We bring in the `Vehicle` class so that we can use the `extends` keyword to create the `Car` class.

  ```js
  const Vehicle = require('./vehicle');

  class Car extends Vehicle { 

  }
  ```

  * üîë `super()` is called so that **every** `Vehicle` that is a `Car` has 4 wheels and makes the `beep` sound. In addition, we add the `color` and `passengers` properties to the `Car`.

  ```js
  constructor(id, color, passengers) {
    super(id, 4, 'beep');
    this.color = color;
    this.passengers = passengers;
  }
  ```

  * For the `useHorn()` method, though we did not define `sound` in our `Car` class, we can still access it since `Car` extends `Vehicle` and we called `super()` with `'beep'` as an argument.

  ```js
  useHorn() {
    console.log(this.sound)
  }
  ```

  * üîë The `checkPassengers()` method checks the number of passengers. If there are more than 4 passengers, we print a message to the console. If there are less than 4 people, then we calculate the number of people we can still fit in the car.

  ```js
  checkPassengers() {
    if (this.passengers.length > 4) {
      console.log(
        'This car only seats 4 people. You have too many passengers!'
      );
    } else {
      console.log(`You have room for ${4 - this.passengers.length} people.`);
    }
  }
  ```

* Open `24-Stu_Subclasses/Solved/boat.js` in your IDE and explain the following:

  * Just like our `Car` class, we need to require `Vehicle` so that we can create the `Boat` class. Everything else is similar to the `Car` class.

  * üîë We use the `crewSoundOff()` method to iterate through the `boatPassengers` array and print each member reporting for duty in the console.

  ```js
  crewSoundOff() {
    this.crew.forEach((member) => {
      console.log(`${member.name} reporting for duty!`);
    });
  }
  ```

* Navigate to `24-Stu_Subclasses/Solved` and run `node car.js` in your command line to demonstrate the following: 

  * We see not only the `printInfo()` method from the `Vehicle` class printing messages in the console, but also the `useHorn()` method and `checkPassengers()` method from the `Car` class printing their messages.

  ```sh
  ---CAR---
  This vehicle has 4 wheels
  This vehicle has an id of 15
  beep
  This car only seats 4 people. You have too many passengers!
  ```

* Navigate to `24-Stu_Subclasses/Solved` and run `node boat.js` in your command line to demonstrate the following: 

  * Again we see not only the `printInfo()` method from the `Vehicle` class printing messages in the console, but also the `useHorn()` method and `crewSoundOff()` method from the `Boat` class printing their messages.

  ```sh
  ---BOAT---
  This vehicle has 0 wheels
  This vehicle has an id of 16
  bwom
  Blackbeard reporting for duty!
  Mary Read reporting for duty!
  Henry Morgan reporting for duty!
  Madame Cheng reporting for duty!
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Why did we create our two methods, `crewSoundOff()` and `checkPassengers()`, in their own classes instead of handling it in the `Vehicle` class?

  * üôã It all comes down to organization. Even though we could choose to handle it in `Vehicle`, that would defeat the purpose of creating a subclass. Since each method is specific to the type of subclass, it makes sense, organizationally, to keep that logic in the subclass.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on extends](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends) and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Multiple Classes (5 min)

* Navigate to `25-Ins_Multiple-Classes` and run `node restaurant.js` from the command line to demonstrate the following:

  * Every order that is added to the queue is displayed.

  * The restaurant's total revenue is displayed.

  * At intervals of one second, each order is prepared.

* Open `25-Ins_Multiple-Classes/item.js` in your IDE and explain the following:

  * The `Item` class only contains the item's title and its price.

  ```js
  class Item {
    constructor(title, price) {
      this.title = title;
      this.price = price;
    }
  }
  ```

* Open `25-Ins_Multiple-Classes/order.js` in your IDE and explain the following:

  * In our application, each order only has one item.

  * We assign the order a random ID in the `constructor()`.

  ```js
  class Order {
    constructor(item) {
      this.item = item;

      this.id = Math.floor(Math.random() * 99) + 1;
    }
  }
  ```

* Open `25-Ins_Multiple-Classes/restaurant.js` in your IDE and explain the following:

  * We import from `./order` and `./item` so that we can use the classes to create new instances later.

  ```js
  const Order = require("./order");
  const Item = require("./item");
  ```

  * In the `Restaurant` class, the `takeOrder()` method increases the restaurant's revenue by the price of the order, then adds the order to the restaurant's array of orders.

  ```js
  class Restaurant {
    constructor(name) {
      this.name = name;
      this.orders = [];
      this.revenue = 0;
    }

    takeOrder(order) {
      this.revenue += order.item.price;
      this.orders.push(order);
      console.log(`Added #${order.id} to the queue`);
      this.printRevenue();
    }
  }
  ```

  * In the `prepareOrders()` method, we set up an interval to remove an element from the front of the array every second. If there are no more orders left, we clear the interval.

  ```js
  prepareOrders() {
    const prepareInterval = setInterval(() => {
      if (this.orders.length === 0) {
        console.log("Finished cooking all orders!");

        clearInterval(prepareInterval);
      } else {
        // Pop the element off the beginning of the array
        const order = this.orders.shift();

        console.log(`#${order.id} has been prepared.`);
      }
    }, 1000);
  }
  ```

  * We create a new restaurant and an array of `items` using our classes.

  ```js
  const restaurant = new Restaurant("McJared's");

  const items = [
    new Item("Burger", 5.99),
    new Item("Soda", 3.5),
    new Item("Chips", 2.0)
  ];
  ```

  * We map each item into an order object using the `Order` class.

  ```js
  const orders = items.map(item => new Order(item));
  ```

  * We iterate over the `orders` and add each order to the `restaurant` object before calling `prepareOrders()` to fulfill the orders.

  ```js
  orders.forEach(order => restaurant.takeOrder(order));

  restaurant.prepareOrders();
  ```

* Ask the class the following question(s):

  * ‚òùÔ∏è Why did we only call `prepareOrders()` once?

  * üôã `prepareOrders()` continues to prepare orders until the array is empty.

  * ‚òùÔ∏è Why do we have all of our initialization and method execution in the `restaurant.js` file and not inside `item.js` or `order.js`?

  * üôã Separation of concerns. Our code is easier to navigate if we give each class a clear responsibility. `Restaurant` is in charge of all operational things within the restaurant, whereas `Order` and `Item` are lightweight constructors.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `26-Stu_Multiple-Classes/README.md`.

### 9. Student Do: Multiple Classes (15 min) 

* Direct students to the activity instructions found in `26-Stu_Multiple-Classes/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üêõ Store class not functioning correctly

Work with a partner to resolve the following issue(s):

* The `Store` class should have the functionality to process sales and replenish their stock.

## Expected Behavior

* When a user buys an item, the `processProductSale()` method should decrement the store's stock of that item and increase the store's revenue by that item's price. 

* When the store replenishes its stock of an item, the `replenishStock()` method should increase the store's stock of that item.

* When I run `npm test`, all of the tests should pass.

* When I run `npm start`, I should see messages logged in the console stating that the "Rare Toy" went out of stock but was replenished.

* When I run `npm start`, I should see the store revenue at `80.95` at the end of all the transactions.

## Actual Behavior

* When I run `npm test`, all of the tests fail.

* When I run `npm start`, I see that the "Rare Toy" never goes out of stock.

* When I run `npm start`, I see the store revenue at `0` at the end of all the transactions.

## Steps to Reproduce the Problem

1. Run `npm install` from the command line.

2. Run `npm test` from the command line to see the tests run.

3. Run `npm start` from the command line to see transactions logged in the console.

## Assets

The following demonstrates the expected transactions of the store logged in the console:

Welcome to Big Als Toy Barn!
Purchased Action Figure for 14.99
Purchased Action Figure for 14.99
Purchased Rare Toy for 17.99
Purchased Action Figure for 14.99
Sorry, Rare Toy is out of stock!
Replenished Rare Toy by 2
Purchased Rare Toy for 17.99
The revenue so far is 80.95

---

## üí° Hints

* What do the tests in [store.test.js](./Unsolved/test/store.test.js) tell you about the expected functionality of the `Store` class?

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* What is the `static` keyword and when would we use static methods?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. Instructor Review: Multiple Classes (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with using multiple classes? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `processProductSale()` class method

  * ‚úîÔ∏è `replenishStock()` class method

* Open `26-Stu_Multiple-Classes/Solved/index.js` in your IDE and explain the following: 

  * We see that the Rare Toy can only be purchased once before it goes out of stock. We can continue to purchase Rare Toys by using our `replenishStock()` method to restock.

  ```js
  store.processProductSale('Rare Toy'); // <= Should be out of stock

  store.replenishStock('Rare Toy', 2); // <= Should be restocked
  store.processProductSale('Rare Toy');
  ```

  * We also see that at the end of all the transactions, the store's revenue should be `80.95`.

  ```js
  store.printRevenue(); // <= Should be 80.95
  ```

* Open `26-Stu_Multiple-Classes/Solved/store.js` in your IDE and explain the following:

  * We can create a new store by passing in the `name` and `stock` properties. The constructor will set the `revenue` to `0`.

  * üîë In the `processProductSale()` method, we loop through each stock item in our store. Once we've found one with a name that matches the name of the item we want to process, we decrease its count by one and increase the store's revenue by the price of the item.

  ```js
  processProductSale(name) {
    this.stock.forEach(item => {
      if (item.name === name) {
        if (item.count > 0) {
          item.count--;
          this.revenue += item.price;
          console.log(`Purchased ${item.name} for ${item.price}`);
        } else {
          console.log(`Sorry, ${item.name} is out of stock!`);
        }
      }
    });
  }
  ```

  * üîë In `replenishStock()` we find the matching item by name and increase its count by the specified number.

  ```js
  replenishStock(name, count) {
    this.stock.forEach(item => {
      if (item.name === name) {
        item.count += count;
        console.log(`Replenished ${item.name} by ${item.count}`);
      }
    });
  }
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Why did we write our store initialization and product processing in a separate file called `index.js` instead of including it inside `store.js`?

  * üôã We break away from `store.js` in this activity so that we can run isolated unit tests. If we were to include all of our method calls in `store.js`, then trying to test individual methods in `store.js` would **also** cause all of the method calls to run.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `27-Evr_Git-Stash-Pop/README.md`.

### 11. Everyone Do: Git Stash and Pop (20 min)

* Open the [Git Docs on stashing](https://www.git-scm.com/docs/git-stash) in your browser and explain the following:

  * `git stash` takes your uncommitted changes, saves them in a non destructive manner, and then reverts those changes from your working copy.

* Direct students to the activity instructions found in `27-Evr_Git-Stash-Pop/README.md`.

* While everyone is working on the activity, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

* To demonstrate `git stash`, edit some of the files in the class repository, if you haven't already.

* Open your command line and demonstrate the following:

  * Running `git status` shows that there are untracked changes.

  * Running `git stash` will set aside those changes in the stack.

  * Running `git stash pop` will reapply those changes.
  
* Answer any questions before students go on break.

### 12. BREAK (40 min)

### 13. Instructor Demo: Mini Project (5 min) 

* Navigate to `28-Stu_Mini-Project/Main` from the command line, run `npm install` and `npm start`, and demonstrate following:

  * The user is presented with a series of underscores to represent a word to guess.

  * The user can input a letter, and the game will inform them if they are correct or incorrect.

  * The game ends when the user guesses every letter or runs out of guesses.

* Navigate to `28-Stu_Mini-Project/Develop` from the command line, run `npm install` and `npm run test`, and explain the following:

  * The develop version of the game does not work, because the `Word` and `Letter` classes have not been completed.

  * üîë We have tests for both of these classes that currently fail.

* Explain that the main game logic is already in place. Once the `Word` and `Letter` classes have been written, students can run `npm start` to play the game.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Which test should we focus on fulfilling first?

  * üôã The `Letter` test, because the `Word` class will need to leverage the `Letter` class.

  * ‚òùÔ∏è How can we know what the `Word` and `Letter` classes should look like?

  * üôã The tests will outline expectations for the methods used.

* Answer any questions before allowing students to start the mini project.

### 14. Student Do: Mini Project (60 min)

* Direct students to the activity instructions found in `28-Stu_Mini-Project/README.md`.

* Break your students into groups that will work together on this activity.

```md
# üèóÔ∏è Build Word Guessing Game

Work with a partner to implement the following user story:

* As a user, I want to be able to play a word guessing game from the command line.

## Acceptance Criteria

* It's done when the `Letter` and `Word` classes fulfill the tests in the `tests` folder.

* It's done when the user can run the command `npm start` to play a game of word guess.

## üí° Hints

* How do the tests suggest how each method and class should be written?

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* What does the `chalk` npm package do?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 15. Instructor Review: Mini Project  (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with this mini-project? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `class` syntax

  * ‚úîÔ∏è Array methods

* Open `28-Stu_Mini-Project/Main/Letter.js` in your IDE and explain the following: 

  * üîë In the constructor, we determine if a character is not a number or a letter, and if not, make it visible right away.

  ```js
  class Letter {
    constructor(char) {

      this.visible = !/[a-z1-9]/i.test(char);
      this.char = char;
    }
  }
  ```

  * In the `toString()` method, we return the character if `this.visible` is `true`. Otherwise, we return a blank underscore.

  ```js
  toString() {
    if (this.visible === true) {
      return this.char;
    }
    return "_";
  }
  ```

  * In the `guess()` method, we set `this.visible` to `true` if the incoming character matches the object's own `char` property.

  ```js
  guess(charGuess) {
    if (charGuess.toUpperCase() === this.char.toUpperCase()) {
      this.visible = true;
      return true;
    }

    return false;
  }
  ```

* Open `28-Stu_Mini-Project/Main/Word.js` in your IDE and explain the following: 

  * üîë In the constructor, we create a new `Letter` object for each character in the word string.

  ```js
  class Word {
    constructor(word) {
      this.letters = word.split("").map(char => new Letter(char));
    }
  }
  ```

  * üîë The `getSolution()` method returns a string of all of the solved letters joined together.

  ```js
  getSolution() {
    return this.letters
      .map(letter => letter.getSolution())
      .join("");
  }
  ```

  * üîë The `guessLetter()` method checks to see if the user guessed correctly by running `guess()` on every letter object.

  ```js
  guessLetter(char) {
    let foundLetter = false;
    this.letters.forEach(letter => {
      if (letter.guess(char)) {
        foundLetter = true;
      }
    });
    
    return foundLetter;
  }
  ```

  * üîë The `guessedCorrectly()` method uses the `every()` array method to only return true if `letter.visible` is true for every letter.

  ```js
  guessedCorrectly() {
    return this.letters.every(function(letter) {
      return letter.visible;
    });
  }
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How did the tests help guide you in writing the classes?

  * üôã They defined the expectations for what each method should do or return.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes) and the [Jest API documentation](https://jestjs.io/docs/en/api), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 16. Instructor Demo: Introduce Homework (5 min)

* Navigate to `02-Homework/Main` and run `node app.js` from the command line to demonstrate the following:

  * You will build a software engineering team generator command line application. The application will prompt the user for information about the team manager and then information about the team members. 
  
  * When we run the application using `node index.js` we would see the following output from inquirer: 

  ```bash
  Please build your team
  ? What is the team manager's name? Xander
  ? What is the team manager's id? 25
  ? What is the team manager's email? Xander@gmail.com
  ? What is the team manager's office number? 1231231234
  ? Which type of team member would you like to add? Engineer
  ? What is your engineer's name? Alex
  ? What is your engineer's id? 5
  ? What is your engineer's email? alex@2u.edu
  ? What is your engineer's GitHub username? Alex
  ? Which type of team member would you like to add? I don't want to add any more team members
  ```
  
  * The project must have the these classes: `Employee`, `Manager`, `Engineer`, `Intern`. The tests for these classes in the `tests` directory must all pass. 

  * Additionally, the submitted assignment should include a tests directory that will contain a test for `Employee`, `Engineer`, `Intern` and `Manager`
  
  * Each test should verify that the user can get name via `getName()`, get id via `getId()`, get role via `getRole()`, and also be instantiated with the constructor.
  
  * We can see that these tests will make sure that the methods return the expected data from their methods. The final file structure of your project should look something like this:

  ```bash
  .
  ‚îú‚îÄ‚îÄ __tests__
  ‚îÇ   ‚îú‚îÄ‚îÄ Employee.test.js
  ‚îÇ   ‚îú‚îÄ‚îÄ Engineer.test.js
  ‚îÇ   ‚îú‚îÄ‚îÄ Intern.test.js
  ‚îÇ   ‚îî‚îÄ‚îÄ Manager.test.js
  ‚îú‚îÄ‚îÄ dist
  ‚îÇ   ‚îú‚îÄ‚îÄ style.css
  ‚îÇ   ‚îî‚îÄ‚îÄ team.html
  ‚îú‚îÄ‚îÄ index.js
  ‚îú‚îÄ‚îÄ lib
  ‚îÇ   ‚îú‚îÄ‚îÄ Employee.js
  ‚îÇ   ‚îú‚îÄ‚îÄ Engineer.js
  ‚îÇ   ‚îú‚îÄ‚îÄ Intern.js
  ‚îÇ   ‚îî‚îÄ‚îÄ Manager.js
  ‚îú‚îÄ‚îÄ output
  ‚îÇ   ‚îî‚îÄ‚îÄ team.html
  ‚îú‚îÄ‚îÄ package.json
  ‚îú‚îÄ‚îÄ src
  ‚îÇ   ‚îî‚îÄ‚îÄ page-template.js
  ``` 

  * This application will take in user input and generate an HTML webpage that displays summaries for each person and output it to `/output/team.html`.
  
  * We can see a final mockup screenshot of what that page should look like in the `02-Homework/Assets` directory. 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What are we learning?

  * üôã We are learning how to write code that is readable, reliable, and maintainable. We will be using `inquirer`, the `fs` module, and Jest to test our application.

  * ‚òùÔ∏è How does this project build off or extend previously learned material?

  * üôã This exercise helps us extend our knowledge of classes, subclasses, and testing. It also gives us more practice with writing JavaScript in Node.js.

  * ‚òùÔ∏è How does this project relate to your career goals?

  * üôã Object-oriented programming is universal across all programming languages. Test-driven development is becoming more and more popular in the industry.

* Ask TAs to direct students to the Homework Requirements found in `02-Homework/README.md`.

* Answer any questions before ending the class.

### 17. END (0 min)

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
¬© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
