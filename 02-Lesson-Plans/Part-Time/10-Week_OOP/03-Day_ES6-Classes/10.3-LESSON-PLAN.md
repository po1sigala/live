# 10.3 Part-Time Lesson Plan: Classes

## Overview 

This unit will cover the basics of ES6 classes and how they can help you when organizing and writing code. This unit touches on three areas, implementing classes, utilizing subclasses, and managing multiple classes. Students will learn the benefits of OOP and learn how to apply many OOP practices in their code.

## Instructor Notes

* In this lesson, students will complete activities `21-Ins_Classes` through `28-Mini-Project`.

* Classes are a broad topic and as a result, it may be hard to remember a time when classes were unfamiliar to you. Review the [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes) on ES6 classes before this class to focus on the most basic components.

* Today's lesson will rely heavily on ES6 classes. It is recommended that you spend some time getting familiar with classes, subclasses, and the `super()` method before class starts. 

* In the next unit, students will start using Heroku. Advise the students to sign up for a Heroku account and have the Heroku CLI installed **before** the next unit. **TODO** - LINK TO HEROKU CLI INSTALL BLOG POST [FSFG-997](https://trilogyed.atlassian.net/browse/FSFG-997)

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

* If the students struggle with the `Everyone Do: Git` activity, walk through it with the students using the talking points provided. Otherwise, support the students as they do the activity and do a brief review at the end. 

## Learning Objectives

By the end of class, students will be able to:

* Implement classes to create characters in an RPG game.

* Extend basic vehicle classes with additional functionality. 

* Implement multiple classes with differing purposes to practice the OOP paradigm.
  
<!-- TODO TIME TRACKER -->
## Time Tracker
| Start   | #   | Activity Name                              | Duration |
| ------- | --- | ------------------------------------------ | -------- |
| 10:00AM | 1   | Instructor Do: Stoke Curiosity             | 0:10     |
| 10:10AM | 2   | Instructor Demo: Classes                   | 0:05     |
| 10:15AM | 3   | Student Do: Prototypes                     | 0:15     |
| 10:30AM | 4   | Instructor Review: Classes                 | 0:10     |
| 10:40AM | 5   | Instructor Demo: Subclasses                | 0:05     |
| 10:45AM | 6   | Student Do: Write and Implement Subclasses | 0:15     |
| 11:00AM | 7   | Instructor Review: Subclasses              | 0:10     |
| 11:10AM | 8   | Instructor Demo: Multiple Classes          | 0:05     |
| 11:15AM | 9   | Student Do: Implement Multiple Classes     | 0:15     |
| 11:30AM | 10  | Instructor Review: Multiple Classes        | 0:10     |
| 11:40AM | 11  | Everyone Do: Git Stash                     | 0:20     |
| 12:00PM | 12  | BREAK                                      | 0:40     |
| 12:40PM | 13  | Instructor Demo: Mini Project              | 0:05     |
| 12:45PM | 14  | Student Do: Mini Project                   | 0:60     |
| 1:45PM  | 15  | Instructor Review: Mini Project            | 0:10     |
| 1:55PM  | 16  | Introduce Homework                         | 0:05     |
| 2:00PM  | 17  | END                                        | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Classes are a round peg in a square hole when it comes to Javascript. They take an existing OOP concept and emulate it in a prototype-based language. Up until now we have been working with constructors to emulate object oriented design. Classes make things easier for developers coming from other OOP languages, but also help everyone with easier to read syntax.

* The language specification known as ES6 provides a class syntax, but the interesting thing about Javascript classes is that they don't actually provide any new functionality. They are what many developers describe as "syntactical sugar".

* You may be asking what in the world is syntactical sugar. The best way to think about it is making the syntax "sweeter" to humans. It makes thing easier to read and generally more pleasant. In this case, we are getting rid of the bitter taste of prototypes and inheritance and sweetening the recipe with some ES6 classes. 

* Throughout this unit, keep in mind that what is happening under the hood is the same thing we have been working on all along with constructor functions and prototypical inheritance. Lets break down one of the classes so we can stop worrying about what they will look like:

```js
// Developer class
class Developer {
  constructor(name) {
    this.developerName = name;
  }

  sayHi() {
    return `Hey! my name is ${this.developerName} üëã`;
  }
}

// We extend Developer into a subclass called `Frontend` and give it its own `saySkill` method
class FrontEnd extends Developer {
  constructor(name, stack) {
    super(name);
    this.techStack = stack;
  }

  saySkill() {
    return `${this.sayHi()}, I code with ${this.techStack}`;
  }
}

// We instantiate new objects using the "new" keyword
const dev = new Developer('Amanda');
const frontend = new FrontEnd('Kyle', 'Typescript');
```

All of this may seem new, but soon you will be comparing what you know about constructors with classes. Classes are fun to work with, so lets get started!

### 2. Instructor Demo: Classes (5 min)

* Open `21-Ins-Classes` in your browser and demonstrate the following:

* Run `node shape` from the command line and demonstrate the following: 

  * üîë  This is what an ES6 class declaration looks like. Unlike a constructor function, we do not declare the parameters of the new object at the top of the function. Instead, we use a function that is built in to classes called `constructor`.

    ```js
    class Shape {
    // Just like constructor functions, classes can accept arguments
        constructor(area, perimeter) {
            this.area = area;
            this.perimeter = perimeter;
    }
    ```

  * üîë The syntax for class methods is different than that of any function we've seen before. Instead of using arrow functions or `.prototype`, the syntax looks very similar to the way we declare functions, just without the `function` keyword.
  
    ```js
    printInfo() {
        console.log(`Area: ${this.area}`);
        console.log(`Perimeter: ${this.perimeter}`);
    }
    ```

  * Although we are now using classes in JavaScript, this does not mean that JavaScript has classical inheritance like some other programming languages. Fundamentally, JavaScript still works the same. Inheritance still happens using prototypes. The `class` syntax merely serves as **syntactical sugar** to make developers' lives easier.

  * Much like constructor functions, we instantiate objects the same way we did with constructor functions.

    ```js
    const shape = new Shape(25, 25);
    ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is the value of `this` within the `printInfo` method?

  * üôã `this` is equal to the instance of the object that is created with the `new` keyword. 

  * ‚òùÔ∏è How would we build something like this?

  * üôã We could look up more information on how to properly use the ES6 class syntax

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `22-Stu-Classes`.

### 3. Student Do: Prototypes (15 min)

* Direct students to the activity instructions found in `22-Stu-Classes`.

* Break your students into pairs that will work together on this activity.

  ```md
  # üèóÔ∏è Write and Implement Classes

  Work with a partner to implement the following user story:

  * As a developer, I want to make two RPG characters match against each other using ES6 classes.

  ## Acceptance Criteria

  * It's done when I have opened [character.js](Unsolved/character.js) and updated the `Character` class so that it instantiates objects with the following properties:

    * Name
    * Strength
    * HitPoints

  * It's done when I create a `printStats()` class method that prints the name, strength, and hitPoints for a character.

  * It's done when I create a `attack(opponent)` method that a character can use to deal damage (equal to their strength) to their opponents hitPoints.  

  * It's done when I create two instances of a character, giving them different names, strength, and hitPoints. 

  * It's done when I make each character take turns attacking each other using `setInterval`. 

  * It's done when I have invoke `printStats()` after each attack to visualize the battle.

  * It's done when I create a `isAlive` method to check if each character has more than 0 hitPoints every turn.
    
  * It'd done when I check if either character has been defeated and stop the interval and end the game.

  ## üí° Hints

  * How can we start small? Can we benefit from first trying to make one character attack another until the game is over?

  ## üèÜ Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * * How can we add validation to ensure that each character is provided the proper 3 arguments when created. If any of the arguments are not present, `throw` an error.


  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: Classes (10 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with ES6 classes? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `constructor()`

  * ‚úîÔ∏è `this`

  * ‚úîÔ∏è Method syntax

* Open `Solved/character.js` in your IDE and explain the following: 

  * When we examine the content of our `character.js` file, we notice that it accepts three arguments.
  
  * üîë Part of the bonus was to check to make sure that the 3 arguments are provided. Here we check each individually but we could have also checked the data type.

  ```js
  class Character {
    constructor(name, strength, hitPoints) {
      // Bonus
      if (!name) {
      throw new Error("You are missing the name.");
      }
      if (!strength) {
        throw new Error("You are missing the strength.");
      }
      if (!hitPoints) {
        throw new Error("You are missing the hitPoints.");
      }
      this.name = name;
      this.strength = strength;
      this.hitPoints = hitPoints;
    }
  ```

  * `isAlive` checks if a character has 0 or less hitPoints.

  ```js
  isAlive() {
    if (this.hitPoints <= 0) {
      console.log(`${this.name} has been defeated!`)
      return false;
    }
    return true;
  };
  ```

  * `Attack` deals damage to the provided opponent equal to the characters strength.

  ```js
  attack(opponent) {
    console.log(`${this.name} hit ${opponent.name} for ${this.strength}`)
    opponent.hitPoints -= this.strength;
  };
  ```

  * After we create two characters, we initialize the game to start with Beatrix.

  ```js
  const grace = new Character("Grace", 30, 75);
  const dijkstra = new Character("Dijkstra", 20, 105);

  let graceTurn = true;
  ```

  * After creating an interval, we toggle the turn.

  * Next, we check to see if either Grace or Dijkstra has been defeated. If so, we clear the interval and end the game. If not, we have Dijkstra or Grace attack, depending on whose turn it is.

  ```js
  const turnInterval = setInterval(() => {
    graceTurn = !graceTurn;

    if(!grace.isAlive() || !dijkstra.isAlive()) {
      clearInterval(turnInterval)
      console.log("Game over!")
    } else if(graceTurn) {
      grace.attack(dijkstra);
      dijkstra.printStats();
    } else {
      dijkstra.attack(grace);
      grace.printStats();
    }
  }, 2000)
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What would our constructor method look like if we instead validated the data for each argument instead of whether or not it was null?

  * üôã We could have used the `typeof` method in Javascript to check the data type in a conditional statement.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: Subclasses (5 min)

* Open `23-Ins-Subclasses/shape.js` in your IDE and demonstrate the following:

  * Our print info method will print each key in the newly constructed shape.

  * We set `module.exports` equal to our `Shape` class so that we can `require` it outside of this file.

  ```js
  class Shape {
    constructor(area, perimeter) {
      this.area = area;
      this.perimeter = perimeter;
    }

    printInfo() {
      for (var key in this) {
          console.log(`${key}: ${this[key]}`);
      }
    }
  }

  module.exports = Shape;
  ```

* Open `23-Ins-Subclasses/rectangle.js` in your IDE and explain the following:

  * First, we bring in `Shape` from `shape.js`.

  * Then, using the side arguments, we perform some math operations so that we can use `area` and `perimeter`.

  ```js
  const Shape = require('./shape');

  class Rectangle extends Shape {
    constructor(sideA, sideB) {
      const area = sideA * sideB;
      const perimeter = (sideA * 2) + (sideB * 2);
  ```

  * Then we pass area and perimeter to the Shape class using `super`.

  * üîë When we extend a class, we must use `super()` before we try to use the keyword `this`. The `super` keyword calls the parent constructor function of the subclass.

  * üìù `super` can also be used as a keyword to access methods from the parent class.

  ```js
  super(area, perimeter);
  this.sideA = sideA;
  this.sideB = sideB;
  ```

  * Since Rectangle extends Shape, we can access the `printInfo`, even though it is defined on the Shape class.

  ```js
  const rectangle = new Rectangle(12, 9);
  rectangle.printInfo();
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How would we build something this?

  * üôã We could refer to this example or we can use external resources like google to find some examples of class inheritance.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `24-Stu-Subclasses/README.md`.

### 6. Student Do: Subclasses (15 min) 

* Direct students to the activity instructions found in `24-Stu-Subclasses/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# üìñ Implement Subclasses

Work with a partner to implement the following user story:

* As a developer, I want to extend basic vehicle classes with additional functionality. 

## Acceptance Criteria

* It's done when I have created a `Car` class that extends the `Vehicle` class with these features:

  * Inherits `id`, `numberOfWheels`, and `sound` from the `Vehicle` class. Set the `numberOfWheels` as `4` and the `sound` as `beep`.

  * A `color` property

  * A `passengers` property, which will hold an array of strings

  * A `useHorn()` method that prints the car's sound to the console.

  * A `checkPassengers()` method that checks to see if there are less than 4 passengers. 
  
    * If there are, print a message of how much room you have left in the car in the console.
    
    * Otherwise, print "This car only seats 4 people. You have too many passengers!" in the console.

* It's done when I have created a `Boat` class that extends the `Vehicle` class with these features:

  * Inherits `id`, `numberOfWheels`, and `sound` from the `Vehicle` class. Set the `numberOfWheels` as `0` and the `sound` as `bwom`.

  * A `type` property

  * A `crew` property, which will hold an array of strings

  * A `useHorn()` method that prints the boat's sound to the console.

  * A `crewSoundOff()` method that prints each member of the crew "reporting for duty!" to the console.
  
## üìù Notes

Refer to the documentation: 

[MDN Web Docs on extends](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends)

---

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* How can we add additional methods to the `Boat` class after it has been created?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: Subclasses (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with subclasses? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `extends`

  * ‚úîÔ∏è `super()`

  * ‚úîÔ∏è class methods

* Open `24-Stu-Subclasses/Solved/vehicle.js` in your IDE and explain the following: 

  * The Vehicle class is a good spot for us to keep a lot of the information that is shared between different types of vehicles. Note the different properties and the `printInfo()` method.

  ```js
  class Vehicle {
    constructor(id, numberOfWheels, sound) {
      this.id = id;
      this.numberOfWheels = numberOfWheels;
      this.sound = sound;
    }

    printInfo() {
      console.log(`This vehicle has ${this.numberOfWheels} wheels`);
      console.log(`This vehicle has an id of ${this.id}`);
    }
  }
  module.exports = Vehicle;
  ```

* Open `24-Stu-Subclasses/Solved/car.js` in your IDE and explain the following:

  * üîë We bring in the Vehicle class so that we can use the `extends` keyword to create the `Car` class.

  ```js
  const Vehicle = require('./vehicle');

  class Car extends Vehicle { 

  }
  ```

  * üîë `super()` is called so that **every** Vehicle that is a Car has 4 wheels and makes the `beep` sound. In addition, we add the `color` and `passengers` properties to the Car.

  ```js
  constructor(id, color, passengers) {
    super(id, 4, 'beep');
    this.color = color;
    this.passengers = passengers;
  }
  ```

  * For the `useHorn()` method, though we did not define `sound` in our Car class, we can still access it since our Car extends Vehicle and we called `super` as a method.

  ```js
  useHorn() {
    console.log(this.sound)
  }
  ```

  * üîë The `checkPassengers()` method checks the number of passengers. If there are more than 4 passengers, we print a message to the console. If there are less than 4 people, then we calculate the number of people we can still fit in the car.

  ```js
  checkPassengers() {
    if (this.passengers.length > 4) {
      console.log(
        'This car only seats 4 people. You have too many passengers!'
      );
    } else {
      console.log(`You have room for ${4 - this.passengers.length} people.`);
    }
  }
  ```

* Open `24-Stu-Subclasses/Solved/boat.js` in your IDE and explain the following:

  * Just like our Car class, we need to require Vehicle so that we can create the Boat class. Everything else is similar to the Car class.

  * üîë We use the `crewSoundOff()` method to iterate through the `boatPassengers` array and print each member reporting for duty in the console.

  ```js
  crewSoundOff() {
    this.crew.forEach((member) => {
      console.log(`${member.name} reporting for duty!`)
    })
  }
  ```

* Navigate to `24-Stu_Subclasses/Solved` and run `node car.js` in your command line to demonstrate the following: 

  * We see not only the `printInfo()` method from the Vehicle class printing messages in the console, but also the `useHorn()` method and `checkPassengers()` method from the Car class printing their messages.

* Navigate to `24-Stu_Subclasses/Solved` and run `node boat.js` in your command line to demonstrate the following: 

  * Again we see not only the `printInfo()` method from the Vehicle class printing messages in the console, but also the `useHorn()` method and `crewSoundOff()` method from the Boat class printing their messages.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è Why did we create our two methods, `crewSoundOff()` and `checkPassengers()`, in their own classes instead of handling it in the Vehicle class?

  * üôã It all comes down to organization. Even though we could choose to handle it in Vehicle, that would defeat the purpose of creating a subclass. Since each method is specific to the type of subclass, it makes sense, organizationally, to keep that logic in the subclass.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Web Docs on extends](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends) and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Multiple Classes (5 min)

* Navigate to [25-Ins-Multiple-Classes](../../../../01-Class-Content/10-OOP/01-Activities/25-Ins-Multiple-Classes/) from the command line, run: `node restaurant.js` and explain the following point(s):

  * Every order that is added to the queue is displayed.

  * The restaurant's total revenue is displayed.

  * At intervals of one second, each order is prepared.

* Open [25-Ins-Multiple-Classes/item.js](../../../../01-Class-Content/10-OOP/01-Activities/25-Ins-Multiple-Classes/item.js) in your IDE and explain the following:

  * The Item class only contains the items title and its price.

  ```js
  class Item {
    constructor(title, price) {
      this.title = title;
      this.price = price;
    }
  }

  module.exports = Item;
  ```

* Open [25-Ins-Multiple-Classes/order.js](../../../../01-Class-Content/10-OOP/01-Activities/25-Ins-Multiple-Classes/order.js) in your IDE and explain the following:

  * In our application, each order only has one item. 

  * üìù Normally, id properties are generated, not passed in as an argument. It is for this reason that we initialize the `Order.lastId` with zero and increment it each time a new Order is created. 

  * We use `Order.lastId` to define what's known as a **static** value on a class. This also works with constructor functions.

  ```js
  class Order {
    constructor(item) {
      this.item = item;

      Order.lastId++;
      this.id = Order.lastId;
    }
  }

  Order.lastId = 0;
  ```

* Open [25-Ins-Multiple-Classes/restaurant.js](../../../../01-Class-Content/10-OOP/01-Activities/25-Ins-Multiple-Classes/restaurant.js) in your IDE and explain the following:

  * We import from `./order/` and `./item/` so that we can use the classes to create new instances later.

  * The `takeOrder` method increases the restaurant's revenue by the price of the order, then adds the order to the restaurant's array of orders.

  ```js
  const Order = require("./order");
  const Item = require("./item");

  class Restaurant {
    constructor(name) {
      this.name = name;
      this.orders = [];
      this.revenue = 0;
    }

    takeOrder(order) {
      this.revenue += order.item.price;
      this.orders.push(order);
      console.log(`Added #${order.id} to the queue`);
      this.printRevenue();
    }

    printRevenue() {
      console.log(`${this.name} has made ${this.revenue} so far!`)
    }
  }

  ```

  * In `prepareOrders`, set up an interval to remove an element from the front of the array every second. If there are no more orders left, we clear the interval.

  * Remember, `.shift` returns the element that was popped off the beginning of the array.

  ```js
  prepareOrders() {
    const prepareInterval = setInterval(() => {
      if (this.orders.length === 0) {
        console.log("Finished cooking all orders!");

        clearInterval(prepareInterval);
      } else {
        const order = this.orders.shift();

        console.log(`#${order.id} has been prepared.`);
      }
    }, 1000);
  }
  ```

  * We create a new restaurant called "McJared's" and create three items.

  * Then, we map over each item, creating a new order.

  * Lastly, we use `orders.forEach` to take each order and prepare all of the orders once we're finished taking orders.

  ```js
  const restaurant = new Restaurant("McJared's");

  const items = [
    new Item("Burger", 5.99),
    new Item("Soda", 3.5),
    new Item("Chips", 2.0)
  ];

  const orders = items.map(item => new Order(item));

  orders.forEach(order => restaurant.takeOrder(order));

  restaurant.prepareOrders();

  ```

* Ask the class the following question(s):

  * ‚òùÔ∏è Why did we only call `prepareOrders` once?

  * üôã `prepareOrders` continues to prepare orders until `restaurant.orders.length === 0`.

  * ‚òùÔ∏è Why do we have all of our initialization and method execution in the `restaurant.js` file and not inside `item.js` or `order.js`?

  * üôã Separation of concerns. Our code is easier to navigate if we give each class a clear responsibility. `Restaurant` is in charge of all operational things within the restaurant, whereas `Order` and `Item` are lightweight constructors.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `26-Stu-Multiple-Classes`.

### 9. Student Do: Implement Multiple Classes (15 min) 

* Direct students to the activity instructions found in ``26-Stu-Multiple-Classes`.

* Break your students into pairs that will work together on this activity.

  ```md
  # üèóÔ∏è Write and Implement Multiple Classes

  * As a developer, I want to practice the OOP paradigm by using multiple classes and differing purposes.

  * As a developer I want to create a store class that handles different interactions within the store. 

  ## Acceptance Criteria

  * It's done when I have ran `npm install` inside the project directory.

  * It's done when I have confirmed everything installed properly by running `npm test`.

  * It's done when I have opened [test/store.test.js](Unsolved/test/store.test.js) and taken a moment to familiarize myself with the `Store` class tests.

  * It's done when I have created a `Store` class with the following properties inside `store.js`:
    * Name
    * Stock
    * Revenue
    
  * It's done when I have added the following properties inside `toy.js`:
    * Name
    * Stock
    * Revenue

  * It's done when I have created a method called `processProductSale` that takes in the product's name as a parameter.
    
  * It's done when the `processProductSale` method should increases the store's revenue by the price of the toy and decreases the toy's count by one.

  * It's done when I `console.log` a message if there's **no more stock** of a given toy while refraining from decreasing the toy's `count` property. 

  * It's done when I have added a method called `replenishStock(name, count)` that increases the stock on a toy by the provided `count` parameter inside `Store`.

  * It's done when I have uncommented lines in index.js to add functionality. 

  ## üí° Hints

  How can you use these tests as guidance for this activity? Try working on each bit of functionality in conjuncture with its unit test, only moving on when the test passes.

  ## üèÜ Bonus

  If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * In `toy.js` add a method called `calculateTax` that returns the price times a sales tax of 8.875. Don't forget to round to two decimal places.

  * Add this number to the total that's printed out in `processProductSale` but do **not** add it to the revenue.

  Use [Google](https://www.google.com) or another search engine to research this.

  ---
  2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. Instructor Review: Write and Implement Multiple Classes (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with using multiple classes? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è Separation of concerns

  * ‚úîÔ∏è Instantiation of objects

* Open `26-Stu-Multiple-Classes/Solved/index.js` in your IDE and explain the following: 

  * First, we see that we have a `package.json` in this directory, so lets run `npm install` to get Jest installed.

  ```sh
  npm i && npm start
  ```
  
  * Notice that the Rare Toy can only be purchased once before it goes out of stock. We can continue to purchase Rare Toys by using our `replenishStock` method.

  * We purposely purchase enough Rare Toys to make sure that we get a message upon running out of stock.

  ```js
  store.welcome()
  store.processProductSale("Action Figure");
  store.processProductSale("Action Figure");
  store.processProductSale("Rare Toy");
  store.processProductSale("Action Figure");

  store.processProductSale("Rare Toy");

  store.replenishStock("Rare Toy", 2);
  store.processProductSale("Rare Toy");

  store.printRevenue();
  ```

* Open `26-Stu-Multiple-Classes/Solved/store.js` in your IDE and explain the following:

  * We use the name and stock arguments passed in through `new Store` and set the revenue to start at 0.

  * In `processProductSale`, we loop through each stock item in our Store. Once we've found one with a name that matches the name of the product we want to process, we decrease its count by one and increase the store's revenue by the price of the item.

  * In `replenishStock` we find the matching item by name and increase its count by the specified number.

  ```js
  class Store {
  constructor(name, stock) {
    this.name = name;
    this.stock = stock;
    this.revenue = 0;
  }

  processProductSale(name) {
    this.stock.forEach((item) => {
      if(item.name === name) {
        if(item.count > 0) {
          item.count--;
          this.revenue += item.price;
          console.log(`Purchased ${item.name} for ${item.price + item.calculateTax()}`)
        }
        else {
          console.log(`Sorry, ${item.name} is out of stock!`);
        }
      }
    })
  }

  replenishStock(name, count) {
    this.stock.forEach((item) => {
      if(item.name === name) {
        item.count += count;
        console.log(`Replenished ${item.name} by ${item.count}`)
      }
    })
  }
  ```

* Ask the class the following question(s):

  * ‚òùÔ∏è Why did we write our store initialization and product processing in a separate file called `index.js` instead of including it inside `store.js`?

  * üôã We break away from `store.js` in this activity so that we can run isolated unit tests. If we were to include all of our method calls in `store.js`, then trying to test individual methods in `store.js` would **also** cause all of the method calls to run.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã We can refer to supplemental material, read the [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `27-Evr-Git-Stash-Pop`.
  <!-- TODO: Add actual folder name here -->

### 11. Everyone Do: Git Stash and Pop (20 min)

* Open [Git docs](https://www.git-scm.com/docs/git-stash) in your browser and explain the following:

  * `git stash` takes your uncommitted changes, saves them in a non destructive manner, and then reverts those changes from your working copy.

* Direct students to the activity instructions found in `27-Evr-Git-Stash-Pop`.

* While everyone is working on the activity, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

* Open your command line and demonstrate the following:

  * This activity will require making a new repository, so to get started run the following in your terminal

  ```sh
  mkdir stashPop && cd stashPop && git init
  ```
  * We will be making use of `git stash` and `git stash pop` as solution to the for the common error message:
  
  ```
  Your local changes to the following files would be overwritten by checkout. Please commit your changes or stash them before you switch branches.
  ```
  * Follow the steps in the guide located in `27-Evr-Stash-Pop/README.md`
* Answer any questions before students go on break.

### 12. BREAK (40 min)

### 13. Instructor Demo: Mini Project (5 min) 

* Open `28-Mini-Project` in your IDE and demonstrate the following:

* Run `npm start` from the command line and demonstrate the following:

  * üîë When we run the application, we can see that we are presented with a command line word guessing game

  *  We see that the program accepts input from the user and also draws another view after the user hits enter.
  
  * üîë We can see that we get different responses depending on whether or not our guess was successful
  
  * We can notice that when we guess correctly or run out of guesses, the game is over.
  
  * Finally, we can see that the user is asked if they would like to play again or quit. 


* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è From an Object Oriented perspective, what are three objects we could create to represent this application?

  * üôã A 'game' object, a 'word' object, and a 'letter' object.

  * ‚òùÔ∏è What kinds of methods could we have inside the 'game' object?

  * üôã Operational things like the initialization of the game, prompting the user for letters, ending the game, etc.

  * ‚òùÔ∏è What kinds of methods could we have inside the 'word' object?

  * üôã A function that checks to see if the word matches the solution.

  * ‚òùÔ∏è What kinds of methods could we have inside the 'letter' object?

  * üôã A function that determines whether to display each letter as a `_` or a letter.

* Answer any questions before allowing students to start the mini project.

### 14. Student Do: Mini Project (60 min)

* Direct students to the activity instructions found in `28-Mini-Project`.

* Break your students into groups that will work together on this activity.

```md
# üèóÔ∏è Build Word Guessing Game

Work with a partner to implement the following user story:

* As a developer, I want to create a word guessing CLI game using OOP
* As a developer, I want to practice ES6 `class` syntax in building this application

## Acceptance Criteria

* It's done when I have am able to receive user input using the `inquirer` or `prompt` npm packages.

* It's done when my solution contains a `Letter.js` file, a `Word.js` file and finally an `index.js` file.

* It's done when all three files satisfy the following criteria:

## Letter.js
Contains a class, `Letter`. This class should be able to either display an underlying character or a blank placeholder (such as an underscore), depending on whether or not the user has guessed the letter. That means the constructor should define:

  * A string value to store the underlying character for the letter

  * A boolean value that stores whether that letter has been guessed yet

  * A function that returns the underlying character if the letter has been guessed, or a placeholder (like an underscore) if the letter has not been guessed

  * A function that takes a character as an argument and checks it against the underlying character, updating the stored boolean value to true if it was guessed correctly
  
  * üîë This file should **not** require any other files 

## Word.js
Contains a class, `Word`, that depends on the `Letter` class. This is used to create an object representing the current word the user is attempting to guess. That means the class should define:

  * An array of `new` `Letter` objects representing the letters of the underlying word

  * A function that returns a string representing the word. This should call the function on each letter object (the first function defined in `Letter.js`) that displays the character or an underscore and concatenate those together.

  * A function that takes a character as an argument and calls the guess function on each letter object (the second function defined in `Letter.js`)
  
  * This file should **only** require `Letters.js`

## Index.js
The file containing the logic for the course of the game, which depends on `Word.js` and:

  * Randomly selects a word and uses the `Word` class to store it

  * Prompts the user for each guess and keeps track of the user's remaining guesses

## üí° Hints

* How can we benefit from writing `Letter.js` first and then testing it on its own before moving on? Could we do the same thing with `Word.js`?

## üèÜ Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* How can we make our UI look better by adding some color to our terminal output? What npm packages are available to preform this kind of function?

Use [Google](https://www.google.com) or another search engine to research this.

---
2020 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 15. Instructor Review: Mini Project  (10 min)  

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è How comfortable do you feel with this mini-project? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (üîë) below to review the following key points:

  * ‚úîÔ∏è `class` syntax

  * ‚úîÔ∏è `inquirer`

* Open `28-Mini-Project/Solved/index.js` in your IDE and explain the following: 

  * All we're doing here is initializing a new game with the Game Class from `Game.js`.

  ```js
  const game = new Game();

  game.play();
  ```
* Open `28-Mini-Project/Solved/Letter.js` in your IDE and explain the following: 


  * The Letter Class is responsible for displaying either an underscore or the underlying character for each letter in the word.

  * In the constructor, we determine if a character is not a number or a letter, and if not, make it visible right away.

  ```js
  class Letter {
    constructor(char) {

      this.visible = !/[a-z1-9]/i.test(char);
      this.char = char;
    }
  ```

  * If the character should not be visible, return an underscore.

  ```js
    toString() {
      if (this.visible === true) {
        return this.char;
      }
      return "_";
    }

    getSolution() {
      return this.char;
    }
  ```

  * We transform the character and the guess to uppercase so that the guess is case insensitive.

  ```js
    guess(charGuess) {
      if (charGuess.toUpperCase() === this.char.toUpperCase()) {
        this.visible = true;
        return true;
      }

      return false;
    }
  }

  module.exports = Letter;
  ```
* Open `28-Mini-Project/Solved/Word.js` in your IDE and explain the following: 

  * In the constructor, we create a new `Letter` object for each character in the word string.

  * `getSolution` returns a string of all of the solved letters.

  ```js
  class Word {
    constructor(word) {
      this.letters = word.split("").map(function(char) {
        return new Letter(char);
      });
    }

    getSolution() {
      return this.letters
        .map(function(letter) {
          return letter.getSolution();
        })
        .join("");
    }

    toString() {
      return this.letters.join(" ");
    }
  ```

  * `guessLetter` checks to see if the user guessed correctly, then prints the word guessed so far.

  ```js
    guessLetter(char) {
      let foundLetter = false;
      this.letters.forEach(function(letter) {
        if (letter.guess(char)) {
          foundLetter = true;
        }
      });

      console.log("\n" + this + "\n");
      return foundLetter;
    }
  ```

  * `guessedCorrectly` uses `.every` to only return true if `letter.visible` is true for every letter.

  ```js
    guessedCorrectly() {
      return this.letters.every(function(letter) {
        return letter.visible;
      });
    }
  }

  module.exports = Word;
  ```
* Open `28-Mini-Project/Solved/Game.js` in your IDE and explain the following: 

  * The Game constructor is responsible for keeping score and controlling the flow of the overall game.

  * We define the `play` function to initialize a new game with a different word.

  * `nextWord` grabs a random word from `words.js` and prompts the user for a guess.

  ```js
  class Game {
    constructor() {
      this.guessesLeft = 0;
    }
    play() {
      this.guessesLeft = 10;
      this.nextWord();
    }

    nextWord() {
      const randWord = words[Math.floor(Math.random() * words.length)];
      this.currentWord = new Word(randWord);
      console.log("\n" + this.currentWord + "\n");
      this.makeGuess();
    }
  ```

  * `makeGuess` prompts the user for a guess. If they have no guesses remaining, show them the solution, then ask if they want to play again.

  * If the user guessed the word correctly, we reset the guesses and prompt them with another word.

  ```js
    makeGuess() {
      this.askForLetter().then(() => {
        if (this.guessesLeft < 1) {
          console.log(
            'No guesses left! Word was: "' +
              this.currentWord.getSolution() +
              '"\n'
          );
          this.askToPlayAgain();

        } else if (this.currentWord.guessedCorrectly()) {
          console.log("You got it right! Next word!");
          this.guessesLeft = 10;
          this.nextWord();

        } else {
          this.makeGuess();
        }
      });
    }
  ```

  * `askToPlayAgain` prompts the user to play again. If they do not, we exit the node process.

  ```js
    askToPlayAgain() {
      inquirer
        .prompt([
          {
            type: "confirm",
            name: "choice",
            message: "Play Again?"
          }
        ])
        .then(val => {
          if (val.choice) {
            this.play();
          } else {
            this.quit();
          }
        });
    }
  ```

  * `askForLetter` is in charge of prompting users for letters, then running `guessLetter` to determine whether or not they've guessed correctly. 

  ```js
    askForLetter() {
      return inquirer
        .prompt([
          {
            type: "input",
            name: "choice",
            message: "Guess a letter!",
            validate: function(val) {
              // The users guess must be a number or letter
              return /[a-z1-9]/gi.test(val);
            }
          }
        ])
        .then(val => {
          const didGuessCorrectly = this.currentWord.guessLetter(val.choice);
          if (didGuessCorrectly) {
            console.log(chalk.green("\nCORRECT!!!\n"));

          } else {
            this.guessesLeft--;
            console.log(chalk.red("\nINCORRECT!!!\n"));
            console.log(this.guessesLeft + " guesses remaining!!!\n");
          }
        });
    }
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is one thing that you understand better having completed this project?

  * üôã We got some experience with OOP, creating methods, and using inquirer to capture user input.

  * ‚òùÔ∏è What can we do if we don't completely understand this?

  * üôã @TODO We can refer to supplemental material, read the [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 16. Instructor Demo: Introduce Homework (5 min)

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `02-Homework/Main/` in your browser and demonstrate the following:

* Run `node app` from the command line and demonstrate the following:

  * You will build a software engineering team generator command line application. The application will prompt the user for information about the team manager and then information about the team members. 
  
  * The project must have the these classes: `Employee`, `Manager`, `Engineer`,
`Intern`. The tests for these classes in the `tests` directory must all pass. 

  * This application will take in user input and generate an HTML webpage that displays summaries for each person. 

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What are we learning?

  * üôã We are learning how to write code that is readable, reliable, and maintainable. We will be using inquirer, the fs module, and Jest to test our application.

  * ‚òùÔ∏è How does this project build off or extend previously learned material?

  * üôã This exercise helps us extend our knowledge of classes, subclasses and how to write code outside of the browser..

  * ‚òùÔ∏è How does this project relate to your career goals?

  * üôã As a full stack developer, you want to be able to demonstrate your ability to use Javascript outside of the browser. This assignment allows us to demonstrate our knowledge of using Node to build command line applications. It is a great thing to show you are capable of creating more than just front end interfaces.

* Ask TAs to direct students to the Homework Requirements found in `02-Homework/README.md`.

* Answer any questions before ending the class.

### 17. END (0 min)

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
@TODO ¬© YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
