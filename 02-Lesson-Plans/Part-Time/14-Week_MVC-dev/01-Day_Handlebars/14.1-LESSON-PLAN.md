# XX.1 Part-Time Lesson Plan: Model-View-Controller (MVC)

## Overview 

In today's clas, students will practice using the MVC framework and learn about template engines by implementing Handlebars.js. They will practice Handlebars.js basics by using expressions and built-in helpers. They will practice rendering data dynamically, first by using hardcoded data and then by using Sequelize and MYSQL. 

## Instructor Notes

* In this lesson, students will complete activities `01-Ins_MVC-Handlebars` through `10-Stu_Handlebars-FE-Logic`.

* This unit introduces students to the template engine, Handlebars.js. The intention is not so much for students to learn Handlebars.js because it will be useful in their career, but instead, it is an introduction to template engines, preparation for React.js, and a way to emphasize the MVC framework.

* You will be using MySQL for a few of today's activities. Be sure to have your MySQL server up and running. Go ahead and create the dish_db database ahead of time, or demonstrate it live in class.

* The first activities, 01-Ins_MVC-Handlebars-Intro - 06-Stu_Built-In-Helpers, include hardcoded data in Handlebars.js templates, index.html, or in the dish-routes.js file. Every subsequent activity (starting with 07-Ins_Data-Serialization) includes a seeds folder. Run `node seeds/index.js` before class, or demonstrate seeding the database live in class. 

* Starting with 07-Ins_Data-Serialization, each activity requires a .env file. Make sure you create one or rename the existing .env.EXAMPLE file before demonstrating each activity.

* Remind students to do a `git pull` of the class repo to have today's activities ready and open in VS Code. 

* If you are comfortable doing so, live-code the solutions to the activities. If not, just use the solutions provided and follow the prompts and talking points for review.

* Let students know that the Bonus at the end of each activity is not meant to be extra coding practice, but instead is a self-study on topics beyond the scope of this unit for those who want to further their knowledge.

## Learning Objectives

By the end of class, students will be able to:

* Explain and implement MVC modularization in a full-stack web application

* Render dynamic HTML using the Handlebars.js template engine

* Dynamically pass data to other helpers or components using built-in helpers

* Use data serialization to simplify objects in order to work with necessary properties only

* Explain separation of concerns and its benefits

## Slide Deck

* @TODO [Unit XX Slide Deck]()

## Time Tracker
@TODO ADD ACTIVITY TITLES for Instructor Demo, Student Do, and Instructor Review
| Start  | #   | Activity Name                       | Duration |
|---     |---  |---                                  |---       |
| 6:30PM | 1   | Instructor Do: Stoke Curiosity      | 0:10     |
| 6:40PM | 2   | Instructor Demo: MVC Handlebars Intro                   | 0:05     |
| 6:45PM | 3   | Student Do: MVC Handlebars Intro                        | 0:15     |
| 7:00PM | 4   | Instructor Review: MVC Handlebars Intro                 | 0:10     |
| 7:10PM | 5   | Instructor Demo: Handlebars Expressions                   | 0:05     |
| 7:15PM | 6   | Student Do: Handlebars Expressions                        | 0:15     |
| 7:30PM | 7   | Instructor Review: Handlebars Expressions                 | 0:10     |
| 7:40PM | 8   | Instructor Demo: Built-In Helpers                   | 0:05     |
| 7:45PM | 9   | Student Do: Built-In Helpers                        | 0:15     |
| 8:00PM | 10  | BREAK                               | 0:15     |
| 8:15PM | 11  | Instructor Review: Built-In Helpers                 | 0:10     |
| 8:25PM | 12  | Instructor Demo: Data Serialization                   | 0:05     |
| 8:30PM | 13  | Student Do: Data Serialization                         | 0:15     |
| 8:45PM | 14  | Instructor Review: Data Serialization                  | 0:10     |
| 8:55PM | 15  | Instructor Demo: Handlebars FE Logic                   | 0:05     |
| 9:00PM | 16  | Student Do: andlebars FE Logic                          | 0:15     |
| 9:15PM | 17  | Instructor Review: andlebars FE Logic                   | 0:15     |
| 9:30PM | 18  | END                                 | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Stoke Curiosity (10 min)

* Welcome students to class.

* Open the [slide deck]() and follow these prompts on their corresponding slides:

  * **@TODO TITLE OF SLIDE**: @TODO ADD TALKING POINTS

  * **@TODO TITLE OF SLIDE**: @TODO ELABORATE ON SLIDE CONTENT
  
  * **@TODO TITLE OF SLIDE**: @TODO TRANSITION INTO MINI-PROJECT DEMO

* Navigate to `@TODO/folder/file` in your command line and demonstrate the following:

  * @TODO { WHAT ARE WE GOING TO BE BUILD? }

  * @TODO { ISN'T THIS NEAT! A SOPHISTICATED OR MODERN APPLICATION OF A KEY TOPIC. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are we learning?

  * 🙋 MVC framework, using template engines like Handlebars.js, and data serialization.

  * ☝️ How does this project build off or extend previously learned material?

  * 🙋 We will use Sequelize, MYSQL, and object-oriented programming.

  * ☝️ How does this project relate to your career goals?

  * 🙋 We will learn how to use template engines and explain the MVC framework, a popular arichitectural pattern that you will encounter as a developer. This work will also prepare us for learning React.js.

* Answer any questions before proceeding to the next activity.

### 2. Instructor Demo: MVC Handlebars.js Intro (5 min) 

* Run `npm install` and `npm start` from the command line. 

* Open `01-Ins_MVC-Handlebars-Intro/controllers/dish-routes.js` in your IDE and demonstrate the following:

  * 🔑 The MVC framework includes Models, Views, and Controllers. The Controller is the interface between the View and the Model. It processes requests, uses the Model to manipulate data, and sends data to the View to render.

  * 🔑 `dish-routes.js` currently includes a GET route. Right now, the route is telling the view to render `index.html` when the user visits `/`.

 ```js
  router.get('/', async (req, res) => {
    res.sendFile(path.join(__dirname, '../views/index.html'));
    });
 ```

* Open `01-Ins_MVC-Handlebars-Intro/views/index.html` in your IDE and demonstrate the following:

  * 🔑  The view is responsible for UI/UX concerns, or what a user can 'view' in the browser.

  * 🔑 Right now, the dishes are hardcoded in `views/index.html`. Today, you will learn how to render data dynamically using Handlebars.js, Sequelize, and MYSQL.

* Visit `http://localhost:3001/` in your browser and demonstrate the following: 

  * 🔑 The view in this application shows a menu of dishes that guests plan to bring to a potluck party.

* Open `01-Ins_MVC-Handlebars-Intro/models/Dish.js` in your IDE and demonstrate the following: 

  * 🔑 `Dish.js` is a Model. Models are in charge of data-related logic, like creating a new dish object.

  * 🔑 We learned how to set up models in Unit 13. Remember, the data is hardcoded in `index.js`, so `Dish.js` is set up, but isn't actually doing anything at the moment.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What does MVC stand for?

  * 🙋 Model, View, Controller.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `02-Stu_MVC-Handlebars-Intro/README.md`.

### 3. Student Do: MVC Handlebars Intro (15 min) 

* Direct students to the activity instructions found in `02-Stu_MVC-Handlebars-Intro/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# 📐 Add Comments to Implementation of MVC and Handlebars.js

Work with a partner to add comments describing the functionality of the code found in [Dish.js](./Unsolved/models/Dish.js), [main.handlebars](./Unsolved/views/layouts/main.handlebars), and [dish-routes.js](./Unsolved/controllers/dish-routes.js).

## 📝 Notes

Refer to the documentation: 

* [Express Handlebars.js](https://www.npmjs.com/package/express-handlebars)

* [MDN Docs: MVC](https://developer.mozilla.org/en-US/docs/Glossary/MVC)

---

## 🏆 Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* What are some other template engines? 

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 4. Instructor Review: MVC Handlebars Intro (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with MVC and Handlebars.js? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ Model

  * ✔️ View

  * ✔️ Controller

  * ✔️ `main.handlebars`

  * ✔️ `all.handlebars`

* Open `02-Stu_MVC-Handlebars-Intro/Solved/controllers/dish-routes.js` in your IDE and explain the following: 

  * 🔑 `dish-routes.js` is the Controller.

  * `dish-routes.js` is responsible for interfacing between the View and the Model. 

  * 🔑 Now that we're using Handlebars.js, the GET route directs the View to render `all.handlebars`.

  ```js
  router.get('/', async (req, res) => {
    res.render('all');
  });
  ``` 

* Open `02-Stu_MVC-Handlebars-Intro/Solved/views/main.handlebars` in your IDE and explain the following: 

  * 🔑 `main.handlebars` is part of the View.
  
  * The file looks like standard HTML, except for `{{{ body}}}`, which is a Handlebars.js placeholder. Whatever the Controller directs the View to render will be plugged in here.

  ```html
      <main class="container container-fluid mt-5">
        {{{ body }}}
      </main>
  ``` 

* Open `02-Stu_MVC-Handlebars-Intro/Solved/views/all.handlebars` in your IDE and explain the following:

  * 🔑 `all.handlebars` is also part of the View. Currently, we are rendering hardcoded data.

* Open `02-Stu_MVC-Handlebars-Intro/Solved/models/Dish.js` in your IDE and explain the following:

  * 🔑 `Dish.js` is a Model. It isn't actually doing anything at the moment, because we are rendering hardcoded data.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What is `{{{ body }}}`?

  * 🙋 It is a Handlebars.js placeholder.

  * ☝️ How does the View know what to plug into `{{{ body }}}`?

  * 🙋 The routes in the Controller will indicate which template to render.

  * ☝️ We are currently hardcoding data in the View, but where would the Controller typically get data to pass to the View?

  * 🙋 The Model is in charge of the data-logic. The Controller would retrieve and manipulate data using the Model.

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [Handlebars.js Docs](https://handlebarsjs.com/guide/#what-is-handlebars), and stick around for office hours to ask for help.

  10000000000000000000000045656778789897er4tzwexgcf3tfedewfdfxgxsdffdx bg v cvc  xvcv z xxgvfxv=5 chloee

* Answer any questions before proceeding to the next activity.

### 5. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? }

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 6. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 7. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

  ```
  @TODO ADD CODE SNIPPET, TABBED
  ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 9. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

  ```md
  @TODO ADD INSTRUCTIONS TABBED
  ```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 10. BREAK (15 min)

### 11. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 13. Student Do: { ACTIVITY NAME } (15 min)

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS TABBED
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 14. Instructor Review: { ACTIVITY NAME } (10 min) 

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: { ACTIVITY NAME } (5 min) 

@TODO USE THE FOLLOWING FOR BROWSER AND/OR COMMAND LINE DEMOS, RESPECTIVELY. REMOVE IF UNUSED

* Open `@TODO/folder/file` in your browser and demonstrate the following:

* Run `@TODO/folder/file { AND ARGS, IF ANY }` from the command line and demonstrate the following: 

  * 🔑 @TODO { WHEN WE DO THIS, IT DOES THAT. }

  * 🔑 @TODO { WE ALSO SEE THESE THINGS. }

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How would we build this?

  * 🙋 @TODO { YES, HOW? } 

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `@TODO/folder/file`.

### 16. Student Do: { ACTIVITY NAME } (15 min) 

* Direct students to the activity instructions found in `@TODO/folder/file`.

* Break your students into pairs that will work together on this activity.

```md
@TODO ADD INSTRUCTIONS
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students who need extra help.

### 17. Instructor Review: { ACTIVITY NAME } (15 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with `@TODO TOPIC`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ @TODO { THIS }

  * ✔️ @TODO { THAT }

  * ✔️ @TODO { THE OTHER }

* Open `@TODO/folder/file` in your IDE and explain the following: 

  * @TODO { WE DO THIS AND THE RESULT IS THAT }

    ```
    @TODO ADD CODE SNIPPET, TABBED
    ```

  * 🔑 @TODO DON'T FORGET TO USE THE KEY EMOJI ON KEY POINTS, BUT ONLY KEY POINTS, NOT _EVERY_ POINT

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ @TODO { DO WE END OUR REVIEWS WITH A QUESTION? }

  * 🙋 @TODO { YES, WE DO! }

  * ☝️ What can we do if we don't completely understand this?

  * 🙋 @TODO We can refer to supplemental material, read the [{ DOCS }]({ URL }), and stick around for office hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did today’s lesson go? Your feedback is important. Please take 5 minutes to complete this [anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
@TODO © YEAR Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
