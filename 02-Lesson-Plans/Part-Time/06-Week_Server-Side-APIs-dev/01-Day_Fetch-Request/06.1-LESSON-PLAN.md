# 06.1 Part-Time Lesson Plan: Introduction to Fetch

## Overview

In this class, we will request data from server-side APIs using Fetch and consume that data.

## Instructor Notes

* Complete activities `01-Ins_Demo_Curl` through `10-Stu_Demo_Dynamic`.

* Students will be using Fetch today to make requests. Take a few moments before class to get familiar with the [Fetch documentation](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch).

* We will only be hitting the [GitHub API](https://docs.github.com/en/rest), so check out the documentation and get familiarized. Students will rely heavily on it in class and may need help finding answers.

* Students will be repeatedly asked to refer to the GitHub Documentation, so be sure to have the link on hand just in case.

* This is students first exposure

## Learning Objectives

By the end of class, students will be able to

* Understand the client-server model.

* Use cURL to make a simple request to an API.

* Understand and explain the Fetch API and why we use it.

* Use JavaScript to render data obtained with `fetch()` on the page.

* Understand and explain the differences between Fetch, AJAX, and XHR. 

* Understand the structure of an API parameter.

## Time Tracker

| Start  | #   | Activity Name                       | Duration |
|---     |---  |---                                  |---       |
| 6:30PM | 1   | Instructor Do: Fetch Introduction   | 0:10     |
| 6:40PM | 2   | Instructor Demo: cURL Demo          | 0:05     |
| 6:45PM | 3   | Student Do: cURL Debug              | 0:15     |
| 7:00PM | 4   | Instructor Review: cURL Debug       | 0:10     |
| 7:10PM | 5   | Instructor Demo: Create Fetch       | 0:05     |
| 7:15PM | 6   | Student Do:  Create Fetch           | 0:15     |
| 7:30PM | 7   | Instructor Review: Create Fetch     | 0:10     |
| 7:40PM | 8   | Instructor Demo: Different APIs     | 0:05     |
| 7:45PM | 9   | Student Do: Reverse APIs            | 0:15     |
| 8:00PM | 10  | BREAK                               | 0:15     |
| 8:15PM | 11  | Instructor Review: Reverse APIs     | 0:10     |
| 8:25PM | 12  | Instructor Demo: Parse JSON         | 0:05     |
| 8:30PM | 13  | Student Do: Parse JSON              | 0:15     |
| 8:45PM | 14  | Instructor Review: Parse JSON       | 0:10     |
| 8:55PM | 15  | Instructor Demo: Dynamic HTML       | 0:05     |
| 9:00PM | 16  | Student Do: Dynamic HTML            | 0:15     |
| 9:15PM | 17  | Instructor Review: Dynamic HTML     | 0:15     |
| 9:30PM | 18  | END                                 | 0:00     |

---

## Class Instruction

### 1. Instructor Do: Fetch Introduction (10 mins)

* Welcome students to class.
  
* Inform students that today is going to be about `fetch`. Fetch allows us to make `requests` to server-side APIs and receive a `response` that we can work with.
  
* Server-side APIs are a way organizations can offer developers, and eventually end users a way of receiving and consuming data.

* Normally, APIs documentation will explain how to interact it to make proper requests and receive successful responses.

* Open up your browser and go to `https://api.github.com` and point out the following:

  * These are all endpoint URLs for GitHub's API.
  
  * The root-endpoint is the part of the URL they all have in common, in GitHub's case it's `https://api.github.com`.

  * To make a specific request, we attach a `path` to the `root-endpoint`, leaving us with a complete `endpoint`.

* Open the [Fetch Documentation](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch) and scroll to the first code block, pointing out the following:

  * Fetch requests begin with the URL of the server you are looking to receive data from. In this case, our `root-endpoint` would be `http://example.com` with our `path` being `/movies.json`. Making a request to only a root-endpoint normally does not yield any results.

  ```js
  fetch('http://example.com/movies.json')
  ```

  * Upon completion of our request, the `.then` statement allows us to do work with the response. In this case, we are using the built-in `.json()` to convert the response to JSON. Assure students that we will cover JSON more later on in today's class. For now, all they need to know is it is a nicer way of formatting returned data for our viewing.
  
  ```js
  .then(function(response){
    return response.json();
  })
  ```
  
  * Next, we use `.then()` to finally console log our JSON formatted `data`.
  
  ```js
  .then(function(data){
    console.log(data)
  });
  ```

  * We can also use a tool called `cURL` to make simple requests via our terminal. Let's examine what this simpler request looks like.

### 2. Instructor Demo: cURL Demo (5 min)
  
* Open your terminal and type `curl https://api.github.com/users`, demonstrating the following:

  * GitHub returned a list of the last 30 users who made a profile!

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹).

  * â˜ï¸ What happened when I entered the curl command to GitHub.

  * ğŸ™‹ We asked GitHub for user information via our terminal!

  * â˜ï¸ What is the `root-endpoint` in the above URL?

  * ğŸ™‹ `https://api.github.com`

  * â˜ What is the `path` that gives us `users`?

  * ğŸ™‹ `/users.`

  * â˜ï¸ What is a good use case for cURL?

  * ğŸ™‹ We can use it to quickly make sure our API URL is correct or working without the need for JavaScript.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to Slack the instruction text to the students in their class-specific channel.

### 3. Student Do: cURL Debug (15 min)

* Direct students to the activity instructions found in `02-Stu_Curl_Debug/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# ğŸ› cURL Command to GitHub API Doesn't Work

Work with a partner to resolve the following issue(s):

* As a developer, I want to use cURL to verify a connection to the GitHub API.

## Expected Behavior

When the command `curl http://api.github.com` is run from the command line, the output includes the following data:

    ```json
    {
      "current_user_url": "https://api.github.com/user",
      "current_user_authorizations_html_url": "https://github.com/settings/connections/applications{/client_id}",
      "authorizations_url": "https://api.github.com/authorizations",
      "code_search_url": "https://api.github.com/search/code?q={query}{&page,per_page,sort,order}",
      "commit_search_url": "https://api.github.com/search/commits?q={query}{&page,per_page,sort,order}",
      "emails_url": "https://api.github.com/user/emails",
      "emojis_url": "https://api.github.com/emojis",
      "events_url": "https://api.github.com/events",
      "feeds_url": "https://api.github.com/feeds",
      "followers_url": "https://api.github.com/user/followers",
      "following_url": "https://api.github.com/user/following{/target}",
      "gists_url": "https://api.github.com/gists{/gist_id}",
      "hub_url": "https://api.github.com/hub",
      "issue_search_url": "https://api.github.com/search/issues?q={query}{&page,per_page,sort,order}",
      "issues_url": "https://api.github.com/issues",
      "keys_url": "https://api.github.com/user/keys",
      "label_search_url": "https://api.github.com/search/labels?q={query}&repository_id={repository_id}{&page,per_page}",
      "notifications_url": "https://api.github.com/notifications",
      "organization_url": "https://api.github.com/orgs/{org}",
      "organization_repositories_url": "https://api.github.com/orgs/{org}/repos{?type,page,per_page,sort}",
      "organization_teams_url": "https://api.github.com/orgs/{org}/teams",
      "public_gists_url": "https://api.github.com/gists/public",
      "rate_limit_url": "https://api.github.com/rate_limit",
      "repository_url": "https://api.github.com/repos/{owner}/{repo}",
      "repository_search_url": "https://api.github.com/search/repositories?q={query}{&page,per_page,sort,order}",
      "current_user_repositories_url": "https://api.github.com/user/repos{?type,page,per_page,sort}",
      "starred_url": "https://api.github.com/user/starred{/owner}{/repo}",
      "starred_gists_url": "https://api.github.com/gists/starred",
      "user_url": "https://api.github.com/users/{user}",
      "user_organizations_url": "https://api.github.com/user/orgs",
      "user_repositories_url": "https://api.github.com/users/{user}/repos{?type,page,per_page,sort}",
      "user_search_url": "https://api.github.com/search/users?q={query}{&page,per_page,sort,order}"
    }
    ```

## Actual Behavior

The command `curl http://api.github.com` does not print any data to the command line.

## Steps to Reproduce the Problem

1. Open a command line window

2. Type `curl http://api.github.com`

3. Press the Enter key

---

## ğŸ’¡ Hints

* How might the official GitHub API documentation shed light on what the problem could be?

## ğŸ† Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

  * If you wanted to save your cURL response text to a file, how would you do so?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help while circulating through room.

### 4. Instructor Review: cURL Debug (10 mins)

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with cURL? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points below to review the following key (ğŸ”‘) points:

  * âœ”ï¸ Typos can lead to lack of `response`

  * Go to [GitHub API Docs](https://docs.github.com/en/rest/overview/resources-in-the-rest-api#root-endpoint)

  * ğŸ”‘ When we examine the URL we entered, we can see that it is using `http` instead of `https`. Simple typos will cause our requests to not hit the proper endpoint, yielding no results.

    ```bash
    curl http://api.github.com
    ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What would we reference to know if our API URL is correct.

  * ğŸ™‹ The documentation.

  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ Stick around for Office Hours to ask for help.

* Answer any questions before proceeding to the next activity.

## 5. Instructor Demo: Create Fetch (5 min)

* Open `03-Ins_Demo-Fetch/index.html` in the browser and show the following:

  * ğŸ”‘ We hit the `Click Me` button and a list of NodeJS GitHub repositories appears.
  
* Open `03-Ins_Demo-Fetch/assets/js/script.js` in your IDE and show the following statements:
  
  * We set our request URL to a variable. This is the URL that our `fetch` method will use to request data. The `path` we are making a request too here is `/orgs/nodejs/repos`.

  ```js
  var requestUrl = 'https://api.github.com/orgs/nodejs/repos';
  ```

  * ğŸ”‘ We pass the `requestUrl` variable as an argument to the `fetch` method.

  ```js
  fetch(requestUrl)
  ```

  * ğŸ”‘ We then take the response and convert it into JSON and `return` the formatted response.

  ```js
  .then(function (response) {
    return response.json();
  })
  ```

  * JSON stands for JavaScript Object Notation. It nothing more than the use of simple javascript objects to exchange data between the client and server.  This makes the data easier to read and understand.

  ```json
  {
    "firstName": "Lashawn",
    "lastName": "Williams",
    "age": 40,
    "email":"lashawnwilliams@example.com"
  }
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What do we need to pass through fetch to get an API to send back data?

  * ğŸ™‹ We need a proper endpoint as provided by the documentation.

  * â˜ï¸ How is a request like this useful?

  * ğŸ™‹ It allows us as developers to quickly access all the data of a particular GitHub organization, or consume all the data from any available endpoint quickly.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to Slack the instruction text to the students in their class-specific channel.

### 6. Student Do: Create Fetch (15 min) 

* Direct students to the activity instructions found in `04-Stu_Create-Fetch/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# ğŸ—ï¸ Implement a Fetch Request to Display User Repositories

Work with a partner to implement the following user story:

  * As a user, I want to see a list of my GitHub repositories.

## Acceptance Criteria

  * It's done when I click the "Fetch Your User Repos" button, and a list of my GitHub repositories displays on the page.

## ğŸ“ Notes

Refer to the documentation: 

[GitHub API Docs for Repositories](https://docs.github.com/en/rest/reference/repos#list-repositories-for-a-user)

---

## ğŸ’¡ Hints

* Where in the URL string is the repository endpoint added?

## ğŸ† Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* In fetch requests we use the URL. What is the difference between a URL and URI? 

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help while circulating through room.

### 7. Instructor Review: Create Fetch (10 min) 

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with `Creating a Fetch Request`? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points below to review the following key (ğŸ”‘) points:

  * âœ”ï¸ `root-endpoint` + `path`  = `endpoint`.

  * âœ”ï¸ `/users/{username}/repos`.

* Open `04-Stu_Create-Fetch/Solved/assets/js/script.js` in your IDE and explain the following:

  * We create a function called `getApi`.

  ```js
  function getApi() {
  ```

  * ğŸ”‘ We save the full endpoint we would like to make a request to in a variable called `requestUrl`, replacing `{USERNAME}` with the username we would like to search.

  ```js
  var requestUrl = 'https://api.github.com/users/{USERNAME}/repos';
  ```

  * We then pass the `requestUrl` variable as an argument to our `fetch` method.

  ```js
  fetch(requestUrl)
  ```

  * We take the response and convert it into JSON. Lastly we `return` the JSON formatted response.

  ```js
  .then(function (response) {
    return response.json();
  })
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How do we build our requestUrl?

  * ğŸ™‹ We attach our desired endpoint to the root endpoint.

  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ Read the [GitHub Docs](https://docs.github.com/en/rest), and stick around for Office Hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 8. Instructor Demo: Different APIs (5 min)

* Open `05-Ins_Different_APIs/assets/js/script.js` in your IDE and show the following:

* There is more than one way to request data from a server-side API.
  
  * ğŸ”‘ An `XMLHttpRequest` or `XHR` for short was the predecessor to `fetch`. `XHR` requests involve much more code than a simple `fetch.`

  ```js
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function () {
    if (xhr.readyState === XMLHttpRequest.DONE) {
      console.log('XMLHttpRequest Response \n-------------');
      console.log(xhr.response);
    }
  };
  xhr.open('GET', requestUrl);
  xhr.send();
  ```

  * ğŸ”‘ `AJAX` is another alternative to `Fetch`. `AJAX` requests require the use of the third-party library, jQuery, to work.
  
  ```js
  $.ajax({
    url: requestUrl,
    method: 'GET',
  }).then(function (response) {
    console.log('Ajax Reponse \n-------------');
    console.log(response);
  });
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Why are we only using `fetch` if there are all these other options?

  * ğŸ™‹ Fetch is simple and quick to use, and requires no third party libraries. This allows us to get up and running quickly!

  * â˜ï¸ How do we learn about these different methods of making API requests?

  * ğŸ™‹ We read their documentation.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to Slack the instruction text to the students in their class-specific channel.

### 9. Student Do: Reverse API calls (15 min)

* Direct students to the activity instructions found in `06-Stu_Reverse_APIs/README.md.`

* Break your students into pairs that will work together on this activity.

```md
# ğŸ“ Add Comments to Implementation of Different Request Methods

Work with a partner to add comments describing the functionality of the code found in [Unsolved/assets/js/script.js](./Unsolved/assets/js/script.js).

---

## ğŸ† Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* Whenever we do a fetch request, it goes through the DNS system. What is DNS?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help while circulating through room.

### 10. BREAK (8PM - 15 mins)

### 11. Instructor Review: Reverse API calls  (10 min)

* Open up `06-Stu_Reverse_APIs/Solved/index.html`.

* Use the prompts and talking points below to review the following key (ğŸ”‘) points:

  * âœ”ï¸ More than one way to make API calls.

  * âœ”ï¸ XHR requires more code, harder to consume.

  * âœ”ï¸ AJAX is similar to `fetch`, handles errors differently.

* Open `06-Stu_Reverse_APIs/Solved/assets/js/script.js` in your IDE and explain the following: 

  * ğŸ”‘ With XHR, we first check if `xhr.readtyState` equals `XMLHttpRequest.DONE`.

  ```js
  if (xhr.readyState === XMLHttpRequest.DONE) {
  ```

  * ğŸ”‘ When the above condition is met, we log our XHR response.

  ```js
    console.log('XMLHttpRequest Response \n-------------');
    .log(xhr.response);
  }
  ```

  * ğŸ”‘ XHR initializes the api call with `.open`. and sends the request with `.send`.

  ```js
  xhr.open('GET', requestUrl);
  xhr.send();
  ```

  * ğŸ”‘ jQuery uses `.ajax` to send the request to the API.   Upon completion the response is returned.

  ```js
  $.ajax({
    url: requestUrl,
    method: 'GET',
  }).then(function (response) {
    console.log('Ajax Response \n-------------');
    console.log(response);
  });
  ```

  * ğŸ”‘ AJAX and fetch are structured similarly but do not function exactly the same. `Fetch` will try to resolve the response with a 404/500 error, while `AJAX` would not.  

  ```js
  fetch(requestUrl)
      .then(function (response) {
      return response.json();
  })
  .then(function (data) {
      console.log('Fetch Response \n-------------');
      console.log(data);
  });
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ What is the difference between AJAX and fetch?

  * ğŸ™‹ Fetch will try to resolve the data even if there is a 404/500 error and is built into the browser.

  * â˜ï¸ What can we do if we are working with an API method we aren't familIar with?

  * ğŸ™‹ Look up that method's documentation.

* Answer any questions before proceeding to the next activity.

### 12. Instructor Demo: Parse JSON (5 min)

* Open up `07-Ins_Demo_Parse/index.html` in the browser to the console. Expand the array under GitHub Organization Users.

  * ğŸ”‘ We need to examine the API response to know how to access the data we want to extract.

  * ğŸ”‘ The response we receive is an array, meaning we can loop through the data, accessing whatever specific data we want.

  ```js
  fetch('https://api.github.com/orgs/nodejs/repos')
  .then(function (response) {
    return response.json();
  })
  .then(function (data) {
    for (var i = 0; i < data.length; i++) {
      console.log(data[i].name);
    }
  });
  ```
  
* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How can we iterate over an array of data?

  * ğŸ™‹ We can use a `for` loop, just like we would any other time we want to iterate over something!

  * â˜ï¸ What should we do before we use our data from an API response.

  * ğŸ™‹ We should examine the data so we know what values we want from it.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to Slack the instruction text to the students in their class-specific channel.

### 13. Student Do: Parse JSON (15 mins) 

* Direct students to the activity instructions found in `08-Stu_Parse_JSON/README.md`

* Break your students into pairs that will work together on this activity.

```md
# ğŸ“– Implement a Fetch Request to Log Repository Issues

Work with a partner to implement the following user story:

  * As a developer, I want to log issues from Twitter's Chill repository.

## Acceptance Criteria

  * It's done when I open the Chrome DevTools, and five issues from the Chill repository are logged in the console.

  * It's done when the issue's URL and username are logged in the DevTools console.

## ğŸ“ Notes

Refer to the documentation: 

[GitHub API Docs for Issues](https://docs.github.com/en/rest/reference/issues#list-repository-issues)

---

## ğŸ’¡ Hints

* How do you add parameters to an API endpoint URL?

## ğŸ† Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* We connect to these API servers through DNS, but they are attached to an IP address. How does this work?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help while circulating through room.

### 14. Instructor Review: Parse JSON (10 mins)

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with reading the documentation? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points below to review the following key (ğŸ”‘) points:

  * âœ”ï¸ Response limit parameter after `?` in URL.

  * âœ”ï¸ Parameters dictate different aspects of response.

  * âœ”ï¸ Documentation for parameters.

* Navigate to the [GitHub API Docs](https://docs.github.com/en/rest/reference/issues#list-repository-issues) and show the following in the `parameter` list:

  * The `per_page` parameter can be used to limit the amount of data that comes back in our response.

* Open [script.js](./Solved/assets/js/script.js) in your IDE and explain the following: 

  * ğŸ”‘ We add the `per_page` parameter to the end of our `requestUrl` variable and set the parameter to 5.

  ```js
  var requestUrl = 'https://api.github.com/repos/nodejs/node/issues?per_page=5';
  ```

  * ğŸ”‘ We pass our completed `requestUrl` variable as an argument to our `fetch`. Upon completion of our request, we take the `response` and convert it to JSON in our `return`.

  ```js
  fetch(requestUrl)
  .then(function (response) {
    return response.json();
  })
  ```

  * ğŸ”‘ We loop through the data and console.log the properties from our API response. We use dot notation on our `data` iterator, logging the `.url` and `.user.login` properties.

  ```js
  .then(function (data) {
      for (var i = 0; i < data.length; i++) {
          .log('Github Repo Issues \n----------');
          console.log(data[i].url);
          console.log(data[i].user.login);
      }
  });
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Where are parameters added to an endpoint?

  * ğŸ™‹ They are normally chained on the end of our endpoint URL.

  * â˜ï¸ Where do we find a list of parameters for a given endpoint?

  * ğŸ™‹ It can almost always be found on the documentation page.

  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ Read the [GitHub Docs](https://docs.github.com/en/rest), and stick around for Office Hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 15. Instructor Demo: Generate Dynamic Elements. (5 mins)

* Open `09-Ins_Demo_Dynamic/index.html` in your browser and demonstrate the following:

  * ğŸ”‘ When we hit the `Click Me` button, the page is populated with dynamically generated HTML.

  * ğŸ”‘ We see a list of the last 5 issues from the node repo and long with the users who posted them.

* Open `09-Ins_Demo_Dynamic/assets/js/script.js` in your IDE and explain the following.

  * We first grab our root elements we will append too later.

  ```js
  var issueContainer = document.getElementById('issues');
  var fetchButton = document.getElementById('fetch-button');
  ```

  * We make our `fetch` request and then loop through the data. When we loop, we create new HTML elements, give them the content of the response, and append them to the page!

  ```js
  var userName = document.createElement('h3');
  var issueBody = document.createElement('p');
  userName.textContent = data[i].user.login;
  issueBody.textContent = data[i].body;
  issueContainer.append(userName);
  issueContainer.append(issueBody);  
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Can this all be done without a third party library?

  * ğŸ™‹ Yes! Fetch and other features of vanilla JavaScript will allow us to achieve this.

  * â˜ï¸ How is this useful?

  * ğŸ™‹ This allows us to display our API responses on our webpages....dynamically!

  * â˜ï¸ How would we build this?

  * ğŸ™‹ We loop over the data provided by the fetch response. On each loop we create an HTML element, give it the content of our response, and append it to the page.

* Let the students know that they only need to generate the dynamic elements,the fetch request has been provided for them in this upcoming activity.

* Answer any questions before proceeding to the next activity.

* In preparation for the activity, ask TAs to start directing students to the activity instructions found in `10-Stu_Demo_Dynamic/README.md`.

### 16. Student Do: Generate Dynamic Elements.(15 mins)

* Direct students to the activity instructions found in `10-Stu_Demo_Dynamic/README.md`.

* Break your students into pairs that will work together on this activity.

```md
# ğŸ—ï¸ Implement a Fetch Request to Display GitHub Data as HTML

Work with a partner to implement the following user story:

  * As a user, I want to see a list of GitHub users and links to their profiles.

## Acceptance Criteria

  * It's done when I click the "Click Me" button, and a list of five GitHub users appears underneath on the page.

  * It's done when each user includes their login name and a URL to their GitHub profile.

---

## ğŸ’¡ Hints

* Use the previous three exercises as references if needed to put this together.

## ğŸ† Bonus

If you have completed this activity, work through the following challenge with your partner to further your knowledge:

* How could you use `fetch()` to retrieve JSON from a data file instead of a third-party API?

Use [Google](https://www.google.com) or another search engine to research this.
```

* While breaking everyone into groups, be sure to remind students and the rest of the instructional staff that questions on Slack or otherwise are welcome and will be handled. It's a good way for your team to prioritize students that need extra help while circulating through room.

### 17. Instructor Review: Generate Dynamic Elements. (15 mins)

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ How comfortable do you feel with generating html from fetch data? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points below to review the following key (ğŸ”‘) points:

  * âœ”ï¸ `document.getElementById`

  * âœ”ï¸ `for loop`

  * âœ”ï¸ dot notation

  * âœ”ï¸ `document.createElement`

  * âœ”ï¸ `.append`

* Open [script.js](./Solved/assets/js/script.js) in your IDE and explain the following:

  * ğŸ”‘ We use `document.getElementById` to target our `users` and `fetch-button` divs. We save them to the variables `usersContainer` and `fetchButton` respectively.

  ```js
  var usersContainer = document.getElementById('users');
  var fetchButton = document.getElementById('fetch-button');
  ```

  * We use fetch to make a request to receive some data. We are sure to convert it to JSON so it can be more easily consumed.

  ```js
  fetch(requestUrl)
  .then(function (response) {
    return response.json();
  })
  .then(function (data) {
    console.log(data);
  ```

  * ğŸ”‘ We use a `for loop` to iterate through the response data.

  ```js
  for (var i = 0; i < data.length; i++) 
  ```

  * ğŸ”‘ On each iteration, we create an `H3` and `p` tag.

  ```js
  var userName = document.createElement('h3');
  var userUrl = document.createElement('p');
  ```

  * ğŸ”‘ We take the `.login` and `.url` properties off of the current iteration of our `data` array, making those the `textContent` of the `userName` and `userUrl` tags we created.

  ```js
  userName.textContent = data[i].login;
  userUrl.textContent = data[i].url;
  ```

  * ğŸ”‘ We finally append the created elements with their newly added text content to the the `div

  ```js
  usersContainer.append(userName);
  usersContainer.append(userUrl);
  ```

* Ask the class the following questions (â˜ï¸) and call on students for the answers (ğŸ™‹):

  * â˜ï¸ Why do we look at the response data properties?

  * ğŸ™‹ So we know what data we need to use.

  * â˜ï¸ What can we do if we don't completely understand this?

  * ğŸ™‹ Read the [GitHub Docs](https://docs.github.com/en/rest), and stick around for Office Hours to ask for help.

* Answer any questions before ending the class.

### 18. END (0 min)

How did todayâ€™s lesson go? Your feedback is important. Please take 5 minutes to complete [this anonymous survey](https://forms.gle/RfcVyXiMmZQut6aJ6).

---
Â© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand.  Confidential and Proprietary.  All Rights Reserved.